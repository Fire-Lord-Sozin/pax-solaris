add_namespace = paxsolaris



country_event = {
	id = paxsolaris.1
	title = paxsolaris.1.t
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_solarempire
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.1"
		hidden_effect = {
			if = {
				limit = {
					any_state = {
						AND = {
							has_variable = SOL_public_works_region_id 
							NOT = { is_controlled_by = event_target:solar_empire }
							NOT = { state = 17 }
							NOT = { state = 78 }
							NOT = { state = 89 }
							NOT = { check_variable = { SOL_public_works_region_id > 7 } }
						}
					}
				}
				set_country_flag = no_unification
			}
			else = {
				clr_country_flag = no_unification
			}
		}
	}
	desc = { 
		text = paxsolaris.1.d_1
		trigger = {
			NOT = { has_country_flag = no_unification }
		}
	}
	desc = { 
		text = paxsolaris.1.d_2
		trigger = {
			has_country_flag = no_unification
		}
	}
	option = {
		trigger = {
			NOT = { has_country_flag = no_unification }
		}
		name = paxsolaris.1.a
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		add_to_variable = { var = daybreaker_support value = 5 }
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		trigger = {
			has_country_flag = no_unification
		}
		name = paxsolaris.1.b
		custom_effect_tooltip = paxsolaris_loyalty_decrease_10
		add_to_variable = { var = daybreaker_support value = -10 }
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}

country_event = {
	id = paxsolaris.2
	title = paxsolaris.2.t
	trigger = {
		has_global_flag = daybreaker_spawned
		has_country_flag = march_on_canterlot
		is_SOLAR_EMPIRE = yes
		EQS = {
			OR = {
				has_completed_focus = SOL_hear_them_out
				has_completed_focus = SOL_send_in_the_tanks
			}
		}
	}
	fire_only_once = yes
	picture = GFX_event_hrm_poster
	mean_time_to_happen = {
		days = 20
	}
	desc = paxsolaris.2.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.2"
		hidden_effect = {
			set_variable = { var = solar_initial_resistance_strength value = 3 }
			set_variable = { var = solar_initial_resistance_outreach_strength value = 3 }
			327 = { save_global_event_target_as = SOL_resistance_stronghold }
			hidden_effect = { SOL_calculate_loyalty = yes }
			set_country_flag = SOL_resistance_begins
		}
	}
	option = {
		name = paxsolaris.2.a
		custom_effect_tooltip = resistanceformation
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}

news_event = {
	id = paxsolaris.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.3"}
	title = paxsolaris.3.t
	desc = paxsolaris.3.d
	picture = GFX_news_canterlot

	trigger = {
		is_under_threat = no
		is_SOLAR_EMPIRE = yes
		if = {
			limit = { has_country_flag = sol_wartime_change }
			event_target:sol_defeated = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 20
		modifier = {
			add = 120
			any_country = {
				OR = {
					tag = SCS
					tag = LSP
					tag = BAL
					tag = VAN
					tag = NMS
					tag = CES
					tag = JUN
				}
				exists = yes
			}
		}
	}
	major = no
	fire_only_once = yes

	option = {
		name = paxsolaris.3.a
		set_country_flag = march_on_canterlot
		hidden_effect = { 
			set_variable = { var = harmonist_demand_counter value = 0 }
			add_ideas = SOL_law_loyalty
			country_event = { id = coalition.1 days = 15 }
			set_country_flag = {
				flag = sol_ai_forbid_conclusion
				days = 1000
				value = 1
			}
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}


country_event = { 
	id = paxsolaris.4
	title = paxsolaris.4.t
	desc = paxsolaris.4.d
	picture = GFX_ponies_daybreaker
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.4" }
	option = { 
		name = paxsolaris.4.a	
	}
}

country_event = { 
	id = paxsolaris.5
	title = paxsolaris.5.t
	desc = paxsolaris.5.d
	picture = GFX_ponies_urban
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.5" }
	option = { 
		name = paxsolaris.5.a
	}
}

country_event = { 
	id = paxsolaris.6
	title = paxsolaris.6.t
	desc = paxsolaris.6.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.6" 
	}
	option = { 
		name = paxsolaris.6.a
		custom_effect_tooltip = paxsolaris_6_tt
		hidden_effect = { SOL_calculate_region_development = yes }
	}
}

country_event = { 
	id = paxsolaris.7
	title = paxsolaris.7.t
	desc = {
		text = paxsolaris.7.d_chn
		trigger = {
			has_country_flag = victory_parade_CHN
		}
	}
	desc = {
		text = paxsolaris.7.d_stg
		trigger = {
			has_country_flag = victory_parade_STG
		}
	}
	desc = {
		text = paxsolaris.7.d_nlr
		trigger = {
			has_country_flag = victory_parade_NLR
		}
	}
	desc = {
		text = paxsolaris.7.d_cry
		trigger = {
			has_country_flag = victory_parade_CRY
		}
	}
	picture = GFX_sol_daybreaker
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.7" }
	option = { 
		name = paxsolaris.7.a
	}
}

country_event = { 
	id = paxsolaris.8
	title = paxsolaris.8.t
	desc = paxsolaris.8.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.8" }
	option = { 
		name = paxsolaris.8.a
		country_event = { id = paxsolaris.10 }
	}
}
country_event = { 
	id = paxsolaris.9
	title = paxsolaris.9.t
	desc = paxsolaris.9.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.9" }
	option = { 
		name = paxsolaris.9.a
	}
}
country_event = { 
	id = paxsolaris.10
	title = paxsolaris.10.t
	desc = paxsolaris.10.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.10" }
	option = { 
		name = paxsolaris.10.a
		country_event = { id = paxsolaris.11 }
	}
}
country_event = { 
	id = paxsolaris.11
	title = paxsolaris.11.t
	desc = paxsolaris.11.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.11" 
		hidden_effect = {
			set_victory_points = {
				province = 12456
				value = 3
			}
			set_province_name = { id = 12456 name = "Ruby Mountain Citadel" }
			build_railway = {
				level = 1
				start_province = 12456
				target_province = 3045
				build_only_on_allied = yes
			}
			build_railway = {
				level = 1
				start_province = 35
				target_province = 3045
				build_only_on_allied = yes
			}
			127 = {
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 12456
				}
			}
		}
	}
	option = { 
		name = paxsolaris.11.a
		add_ideas = sol_sunset_shimmer
		if = {	
			limit = { NOT = { has_country_flag = EQS_sunset_shimmer_arrived } }
			set_country_flag = EQS_sunset_shimmer_arrived
			custom_effect_tooltip = sunset_shimmer_stats_tp
		}
		hidden_effect = {
			division_template = {
				name = "Imperial Royal Guards"
				division_names_group = EQS_MAG_02
				is_locked = no
				priority = 2
				template_counter = 66
				regiments = {
					magical_infantry = { x = 0 y = 0 }
					magical_infantry = { x = 0 y = 1 }
					magical_infantry = { x = 0 y = 2 }
					artillery_brigade = { x = 0 y = 3 }
					magical_infantry = { x = 1 y = 0 }
					magical_infantry = { x = 1 y = 1 }
					magical_infantry = { x = 1 y = 2 }
					artillery_brigade = { x = 1 y = 3 }
					light_tank_destroyer_brigade = { x = 2 y = 0 }
				}
				support = {
					unicorn_company = { x = 0 y = 0 }
					logistics_company = { x = 0 y = 1 }
					anti_tank = { x = 0 y = 2 }
					artillery = { x = 0 y = 3 }
					engineer = { x = 0 y = 4 }
				}
			}
			3 = {
				create_unit = { division = "name = \"Royal Canterlot Guards\" division_template = \"Imperial Royal Guards\" start_experience_factor = 1" owner = ROOT allow_spawning_on_enemy_provs = yes }
				create_unit = { division = "name = \"Ruby Mountain Protection Squadron\" division_template = \"Imperial Royal Guards\" start_experience_factor = 1" owner = ROOT allow_spawning_on_enemy_provs = yes }
			}
			save_current_manpower = yes
			127 = {
				add_manpower = 3021
			}
			restore_previous_manpower = yes
		}
	}
}
country_event = { 
	id = paxsolaris.12
	title = paxsolaris.12.t
	desc = paxsolaris.12.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.12" }
	option = { 
		name = paxsolaris.12.a
		set_country_flag = SOL_highlight_states_decision_unlocked
		custom_effect_tooltip = paxsolaris_12_tt
	}
}
country_event = { 
	id = paxsolaris.13
	title = paxsolaris.13.t
	desc = paxsolaris.13.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.13" }
	option = { 
		name = paxsolaris.13.a
	}
}
country_event = {
	id = paxsolaris.14
	is_triggered_only = yes
	hidden = yes
	option = {
		SOL_calculate_resource_share = yes
	}
}

country_event = { 
	id = paxsolaris.18
	title = paxsolaris.18.t
	desc = paxsolaris.18.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.18" }
	option = { 
		name = paxsolaris.18.a
		custom_effect_tooltip = paxsolaris_information_suppression_increase
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		hidden_effect = {
			add_to_variable = { var = solar_resistance_outreach_suppression_progress value = 1 }
			add_to_variable = { var = daybreaker_support value = 5 }
			SOL_calculate_loyalty = yes
		}
	}
}
country_event = { 
	id = paxsolaris.19
	title = paxsolaris.19.t
	desc = paxsolaris.19.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.19" }
	option = { 
		name = paxsolaris.19.a
	}
}
country_event = { #Fuck the Buffalo up
	id = paxsolaris.20 
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.20"}
	title = paxsolaris.20.t
	desc = paxsolaris.20.d
	picture = GFX_event_appleloosa
	is_triggered_only = yes
	option = {
		name = paxsolaris.20.a #welp
		custom_effect_tooltip = GAME_OVER_TT
		EQS = {
			annex_country = { target = BUF }
			country_event = { id = paxsolaris.21 hours = 2 }
		}
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				EQS = { has_army_size = { size < 30 } }
			}
			modifier = {
				add = 100
				EQS = { has_army_size = { size > 29 } }
			}
		}
	}
	option = {
		name = paxsolaris.20.b #fuck no
		trigger = {
			NOT = { is_subject_of = EQS }
		}
		add_political_power = 150
		add_war_support = 0.15
		if = {
			limit = { is_in_faction_with = EQS }
			leave_faction = yes
		}
		hidden_effect = {
			EQS = {
				diplomatic_relation = {
				    country = BUF
				    relation = guarantee
				    active = no
				}
				diplomatic_relation = {
				    country = BUF
				    relation = non_aggression_pact
				    active = no
				}
			}
		}
		EQS = { country_event = { id = paxsolaris.22 hours = 2 } }
		ai_chance = {
			base = 10			
			modifier = {
				EQS = { has_army_size = { size > 29 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				EQS = { has_army_size = { size < 40 } }
			}
			modifier = {
				factor = 5
				is_in_faction = yes
				NOT = { is_in_faction_with = EQS }
				any_country = {
					is_in_faction_with = PREV
					strength_ratio = {
					    tag = EQS
					    ratio > 0.8
					}
				}
			}
		}
	}
}
country_event = { 
	id = paxsolaris.21
	title = paxsolaris.21.t
	desc = paxsolaris.21.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.21" }
	option = { 
		name = paxsolaris.21.a
	}
}
country_event = { 
	id = paxsolaris.22
	title = paxsolaris.22.t
	desc = paxsolaris.22.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.22"
		hidden_effect = {
			if = {
				limit = {
					21 = {
						is_owned_and_controlled_by = EQS
					}
					89 = {
						is_owned_and_controlled_by = BUF
					}
				}
				89 = {
					save_event_target_as = SOL_defender_state
					set_variable = { BUF.SOL_defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				21 = {
					save_event_target_as = SOL_attacker_state
					set_variable = { BUF.SOL_attacker_state_vs_@ROOT = id }
					set_temp_variable = { SOL_attacker_state_temp = id }
				}
			}
			else = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = BUF
						any_neighbor_state = {
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = SOL_defender_state
					set_variable = { BUF.SOL_defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						any_neighbor_state = {
							state = var:BUF.SOL_defender_state_vs_@ROOT
						}
					}
					save_event_target_as = SOL_attacker_state
					set_variable = { BUF.SOL_attacker_state_vs_@ROOT = id }
					set_temp_variable = { SOL_attacker_state_temp = id }
				}
			}
		}
	}
	option = { 
		name = paxsolaris.22.a 
		activate_targeted_decision = { target = BUF decision = SOL_attack_buf } 
		effect_tooltip = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = var:BUF.SOL_attacker_state_vs_@ROOT
					num_provinces = 4
					on_win = paxsolaris.23
					on_lose = paxsolaris.24
					on_cancel = paxsolaris.24
				}
				defender = {
					state = var:BUF.SOL_defender_state_vs_@ROOT
					num_provinces = 4
					on_win = paxsolaris.25
					on_cancel = paxsolaris.25
				}
			}
		}
	}
}

country_event = { #Border war win, Solar Empire.
	id = paxsolaris.23 
	title = paxsolaris.23.t
	desc = paxsolaris.23.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.23" }
	option = { 
		name = paxsolaris.23.a
		add_to_variable = { var = daybreaker_support value = 3 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_3
		EQS = {
			annex_country = { target = BUF }
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}
country_event = { #Border war lose, Solar Empire
	id = paxsolaris.24
	title = paxsolaris.24.t
	desc = paxsolaris.24.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.24" 
		hidden_effect = {
			SOL_calculate_probability = yes
		}
	}
	option = { 
		name = paxsolaris.24.a
		custom_effect_tooltip = paxsolaris_24_tt
		custom_effect_tooltip = paxsolaris_resistance_strength_increase
		ai_chance = { 
			factor = 10
		}
		add_to_variable = { var = solar_resistance_actions_progress value = 1 }
		if = {
			limit = {
				check_variable = { probability_check > pr_nightmare }
			}
			add_to_variable = { var = daybreaker_support value = -3 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_3
		}
		add_political_power = -100
		add_stability = -0.05
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = { 
		name = paxsolaris.24.b
		custom_effect_tooltip = paxsolaris_24_tt
		custom_effect_tooltip = paxsolaris_resistance_strength_increase
		ai_chance = { 
			factor = 1
			modifier = {
				add = 100
				check_variable = { solar_military_support > 2 }
			}
		}
		add_to_variable = { var = solar_resistance_actions_progress value = 1 }
		if = {
			limit = {
				check_variable = { probability_check > pr_nightmare }
			}
			add_to_variable = { var = daybreaker_support value = -3 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_3
		}
		add_political_power = -100
		add_stability = -0.05
		hidden_effect = { SOL_calculate_loyalty = yes }
		hidden_effect = { FROM = { set_country_flag = SOL_annexation_target } }
	}
}
country_event = { #Border war win, Buffalo
	id = paxsolaris.25
	title = paxsolaris.25.t
	desc = paxsolaris.25.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.25" }
	option = { 
		name = paxsolaris.25.a
	}
}
country_event = { #Add Buffalo Resistance
	id = paxsolaris.26
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.26" 
		hidden_effect = {
			set_victory_points = {
				province = 6415
				value = 0
			}
		}
	}
	title = paxsolaris.26.t
	desc = paxsolaris.26.d
	picture = GFX_sol_buffalo
	fire_only_once = yes
	trigger = {
		is_SOLAR_EMPIRE = yes
		89 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = eqs_buffalo_state } }
		78 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = eqs_buffalo_state } }
		93 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = eqs_buffalo_state } }
		80 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = eqs_buffalo_state } }
		92 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = eqs_buffalo_state } }
		91 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = eqs_buffalo_state } }
	}

	mean_time_to_happen = {
		days = 40
	}
	option = {
		name = paxsolaris.26.a #Do nothing
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0.2
				has_global_flag = EQS_evil_celestia
			}
		}
		set_country_flag = SOL_buffalo_problems_flag_nothing
		save_current_manpower = yes
		93 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -30000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		80 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -10000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		92 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -20000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		91 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -30000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		89 = { 
			set_temp_variable = { var = sol_non_pony_population_change_temp value = 25 }
			hidden_effect = { SOL_pony_population_recalculate = yes }
			add_manpower = 65000 
			set_state_flag = eqs_buffalo_state
			hidden_effect = {
				if = {
					limit = {
						has_dynamic_modifier = { modifier = SOL_infrastructure_hardening_bonus }
					}
					add_dynamic_modifier = { modifier = SOL_uprising_trains }
				}
				else = {
					add_dynamic_modifier = { modifier = SOL_uprising }
				}
			}
			custom_effect_tooltip = SOL_uprising_add_to_state_tt
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
		}
		78 = { 
			set_temp_variable = { var = sol_non_pony_population_change_temp value = 15 }
			hidden_effect = { SOL_pony_population_recalculate = yes }
			add_manpower = 25000
			set_state_flag = eqs_buffalo_state 
			hidden_effect = {
				if = {
					limit = {
						has_dynamic_modifier = { modifier = SOL_infrastructure_hardening_bonus }
					}
					add_dynamic_modifier = { modifier = SOL_uprising_trains }
				}
				else = {
					add_dynamic_modifier = { modifier = SOL_uprising }
				}
			}
			custom_effect_tooltip = SOL_uprising_add_to_state_tt
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
		}
		restore_previous_manpower = yes
	}
	option = {
		name = paxsolaris.26.b #Work camps
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.2
				has_global_flag = EQS_evil_celestia
			}
		}
		set_country_flag = SOL_buffalo_problems_flag_work
		save_current_manpower = yes
		93 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -30000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		80 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -10000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		92 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -20000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		91 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -30000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		89 = {
			set_temp_variable = { var = sol_non_pony_population_change_temp value = 25 }
			hidden_effect = { SOL_pony_population_recalculate = yes }
			add_manpower = 65000
			set_state_flag = eqs_buffalo_state
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
		}
		78 = {
			set_temp_variable = { var = sol_non_pony_population_change_temp value = 15 }
			hidden_effect = { SOL_pony_population_recalculate = yes }
			add_manpower = 25000
			set_state_flag = eqs_buffalo_state
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		restore_previous_manpower = yes	
	}
	option = {
		name = paxsolaris.26.c #Genocide
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.2
				check_variable = { solar_resistance_outreach_strength > 3 }
			}
		}
		set_country_flag = SOL_buffalo_problems_flag_genocide
		save_current_manpower = yes
		93 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -30000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		80 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -10000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		92 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -20000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		91 = {
			set_variable = { var = sol_pony_percentage value = 1 }
			add_manpower = -30000
			remove_core_of = BUF
			add_claim_by = BUF
		}
		89 = {
			set_temp_variable = { var = sol_non_pony_population_change_temp value = 25 }
			hidden_effect = { 
				SOL_pony_population_recalculate = yes 
				SOL_genocide_effect = yes
			}
			add_manpower = 85000
			set_state_flag = eqs_buffalo_state
		}
		78 = {
			set_temp_variable = { var = sol_non_pony_population_change_temp value = 15 }
			hidden_effect = { 
				SOL_pony_population_recalculate = yes 
				SOL_genocide_effect = yes
			}
			add_manpower = 25000
			set_state_flag = eqs_buffalo_state
		}
		custom_effect_tooltip = sol_all_uncored_BUF
		custom_effect_tooltip = SOL_genocide_effect_tt
		restore_previous_manpower = yes
		hidden_effect = { 
			country_event = {
				id = paxsolaris.27
				days = 30
			}
		}
	}
}
country_event = { 
	id = paxsolaris.27
	title = paxsolaris.27.t
	desc = paxsolaris.27.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.27" }
	option = { 
		name = paxsolaris.27.a
		country_event = {
			id = paxsolaris.28
		}
	}
}
country_event = { 
	id = paxsolaris.28
	title = paxsolaris.28.t
	desc = paxsolaris.28.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.28" }
	option = { 
		name = paxsolaris.28.a
	}
}
country_event = { #Successful Genocide
	id = paxsolaris.29
	title = paxsolaris.29.t
	desc = paxsolaris.29.d
	picture = GFX_event_appleloosa
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.29" }
	option = { 
		name = paxsolaris.29.a
		every_state = {
			limit = { is_core_of = BUF }
			remove_core_of = BUF
		}
		hidden_effect = {
			every_state = {
				limit = { is_claimed_by = BUF }
				BUF = { remove_state_claim = PREV }
			}
		}
	}
}
country_event = { 
	id = paxsolaris.30
	title = paxsolaris.30.t
	desc = paxsolaris.30.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.30" }
	option = { 
		name = paxsolaris.30.a
		country_event = {
			id = paxsolaris.31
		}
	}
}
country_event = { 
	id = paxsolaris.31
	title = paxsolaris.31.t
	desc = paxsolaris.31.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.31" }
	option = { 
		name = paxsolaris.31.a
		hidden_effect = {
			country_event = {
				id = paxsolaris.200
				days = 5
			}
		}
	}
}

country_event = { 
	id = paxsolaris.32
	title = paxsolaris.32.t
	desc = paxsolaris.32.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.32" }
	option = { 
		name = paxsolaris.32.a
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase
		ai_chance = { 
			factor = 1
			modifier = {
				add = 10
				check_variable = { daybreaker_support > 40 }
			}
		}
		hidden_effect = {
			add_to_variable = { var = solar_resistance_suppression_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.32.b
		custom_effect_tooltip = paxsolaris_information_suppression_increase
		ai_chance = { 
			factor = 1
			modifier = {
				add = 10
				check_variable = { daybreaker_support < 40 }
			}
		}
		hidden_effect = {
			add_to_variable = { var = solar_resistance_outreach_suppression_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
}

country_event = { 
	id = paxsolaris.33
	title = paxsolaris.33.t
	desc = paxsolaris.33.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.33" }
	option = { 
		name = paxsolaris.33.a
		custom_effect_tooltip = paxsolaris_government_consolidation_increase
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase
		custom_effect_tooltip = paxsolaris_loyalty_decrease_2
		ai_chance = { 
			factor = 10
		}
		hidden_effect = {
			add_to_variable = { var = solar_resistance_suppression_progress value = 1 }
			add_to_variable = { var = solar_civilian_measures_progress value = 1 }
			add_to_variable = { var = daybreaker_support value = -2 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.33.b
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase
		custom_effect_tooltip = paxsolaris_loyalty_increase_2
		ai_chance = { 
			factor = 1
		}
		hidden_effect = {
			add_to_variable = { var = solar_resistance_suppression_progress value = 1 }
			add_to_variable = { var = daybreaker_support value = 2 }
			SOL_calculate_loyalty = yes
		}
	}
}

country_event = { 
	id = paxsolaris.34
	title = paxsolaris.34.t
	desc = paxsolaris.34.d
	picture = GFX_event_papers_please
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.34" }
	option = { 
		name = paxsolaris.34.a
	}
}
country_event = { 
	id = paxsolaris.35
	title = paxsolaris.35.t
	desc = paxsolaris.35.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.35" }
	option = { 
		name = paxsolaris.35.a
	}
}
country_event = { 
	id = paxsolaris.36
	title = paxsolaris.36.t
	desc = paxsolaris.36.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.36" }
	option = { 
		name = paxsolaris.36.a
	}
}
country_event = { 
	id = paxsolaris.37 
	title = paxsolaris.37.t
	desc = paxsolaris.37.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.37" 
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = resistance_deescalation
				}
				clr_country_flag = resistance_deescalation
				add_to_variable = { var = solar_civilian_measures value = -2 }
				add_to_variable = { var = solar_military_measures value = -2 }
			}
			set_country_flag = resistance_ceasefire
			random_country = {
				limit = { 
					resistance_ceasefire_trigger = yes
				}
				save_global_event_target_as = sol_resistance_enemy
			}
			remove_ideas = SOL_public_hostility_0
			remove_ideas = SOL_public_hostility_1
			remove_ideas = SOL_public_hostility_2
			remove_ideas = SOL_public_hostility_3
			remove_ideas = SOL_public_hostility_4
			remove_ideas = SOL_public_hostility_5
			remove_ideas = SOL_military_desertion_0
			remove_ideas = SOL_military_desertion_1
			remove_ideas = SOL_military_desertion_2
			remove_ideas = SOL_military_desertion_3
			remove_ideas = SOL_military_desertion_4
			remove_ideas = SOL_military_desertion_5
			remove_ideas = SOL_resistance_strength_0
			remove_ideas = SOL_resistance_strength_1
			remove_ideas = SOL_resistance_strength_2
			remove_ideas = SOL_resistance_strength_3
			remove_ideas = SOL_resistance_strength_4
			remove_ideas = SOL_resistance_strength_5
			remove_ideas = SOL_harmonist_broadcasts_0
			remove_ideas = SOL_harmonist_broadcasts_1
			remove_ideas = SOL_harmonist_broadcasts_2
			remove_ideas = SOL_harmonist_broadcasts_3
			remove_ideas = SOL_harmonist_broadcasts_4
			remove_ideas = SOL_harmonist_broadcasts_5
			remove_ideas = SOL_resistance_cohesion_1
			remove_ideas = SOL_resistance_cohesion_2
			remove_ideas = SOL_resistance_cohesion_3
			every_state ={
				clr_state_flag = resistance_attack_dummy_target
				clr_state_flag = resistance_attack_true_target
			}
			clear_array = EQS.SOL_resistance_attack_target_array
			clr_country_flag = SOL_has_ongoing_attack
			remove_mission = SOL_resistance_attack
			clr_country_flag = SOL_has_ongoing_cohesion
			remove_mission = SOL_resistance_cohesion
			set_variable = { var = solar_resistance_cohesion value = 0 }
			set_variable = { var = daybreaker_support_daily_resistance_outreach value = 0 }
		}
	}
	option = { 
		name = paxsolaris.37.a
	}
}
country_event = { 
	id = paxsolaris.38
	title = paxsolaris.38.t
	desc = paxsolaris.38.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.38" 
		hidden_effect = {
			clr_country_flag = resistance_ceasefire
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
	option = { 
		name = paxsolaris.38.a
	}
}
country_event = { 
	id = paxsolaris.39
	title = paxsolaris.39.t
	desc = paxsolaris.39.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.39" }
	option = { 
		name = paxsolaris.39.a
		ai_chance = { 
			factor = 1
			modifier = {
				add = 10
				check_variable = { solar_civilian_support < solar_military_support }
			}
		}
		custom_effect_tooltip = paxsolaris_government_consolidation_increase
		hidden_effect = {
			add_to_variable = { var = solar_civilian_measures_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.39.b
		custom_effect_tooltip = paxsolaris_military_consolidation_increase
		ai_chance = { 
			factor = 1
			modifier = {
				add = 10
				check_variable = { solar_civilian_support > solar_military_support }
			}
		}
		hidden_effect = {
			add_to_variable = { var = solar_military_measures_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
}
country_event = { 
	id = paxsolaris.40
	title = paxsolaris.40.t
	desc = paxsolaris.40.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.40" }
	option = { 
		name = paxsolaris.40.a
		custom_effect_tooltip = paxsolaris_government_consolidation_increase
		ai_chance = { 
			factor = 10
		}
		custom_effect_tooltip = paxsolaris_40_a_tt
		hidden_effect = {
			add_to_variable = { var = solar_civilian_measures_progress value = 1 }
			add_to_variable = { var = solar_inquisition_decision_medium_duration value = 5 }
			add_to_variable = { var = solar_inquisition_decision_low_duration value = 5 }
			set_variable = { var = solar_inquisition_decision_loyalty_decrease value = -1 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.40.b
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase
		custom_effect_tooltip = paxsolaris_loyalty_decrease_2
		ai_chance = { 
			factor = 1
			modifier = {
				add = 9
				has_completed_focus = SOL_god_empress
			}
		}
		custom_effect_tooltip = paxsolaris_40_b_tt
		hidden_effect = {
			add_to_variable = { var = daybreaker_support value = -2 }
			add_to_variable = { var = weekly_leads_modifier value = 4 }
			add_to_variable = { var = solar_resistance_suppression_progress value = 1 }
			add_to_variable = { var = solar_inquisition_decision_medium_duration value = -5 }
			add_to_variable = { var = solar_inquisition_decision_low_duration value = -5 }
			SOL_calculate_loyalty = yes
		}
	}
}
news_event = {
	id = paxsolaris.41 
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.41" }
	title = paxsolaris.41.t 
	desc = paxsolaris.41.d 
	is_triggered_only = yes
	picture = GFX_news_event_changeling_hive
	major = no
	option = { 
		name = paxsolaris.41.a
	}
}
country_event = { 
	id = paxsolaris.42
	title = paxsolaris.42.t
	desc = paxsolaris.42.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.42" }
	option = { 
		name = paxsolaris.42.a
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase_2
		add_to_variable = { var = solar_resistance_suppression_progress value = 2 }
		custom_effect_tooltip = paxsolaris_loyalty_decrease_2
		add_to_variable = { var = daybreaker_support value = -2 }
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = { 
		name = paxsolaris.42.b
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase
		add_to_variable = { var = solar_resistance_suppression_progress value = 1 }
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}
country_event = { 
	id = paxsolaris.43
	title = paxsolaris.43.t
	desc = paxsolaris.43.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.43" }
	option = { 
		name = paxsolaris.43.a
	}
}
country_event = { 
	id = paxsolaris.44
	title = paxsolaris.44.t
	desc = paxsolaris.44.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.44" }
	option = { 
		name = paxsolaris.44.a
	}
}

country_event = { #Add bat resistance
	id = paxsolaris.45
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.45"
		hidden_effect = {
			add_stability = -0.05
			set_country_flag = SOL_bat_problems_flag
			every_state = {
				limit = {
					OR = {
						state = 30
						state = 32
						state = 36
						state = 350
						state = 353
						state = 25
						state = 52
						state = 79
					}
				}
				remove_core_of = ROOT
				add_claim_by = ROOT
				set_state_flag = SOL_bat_state
				if = {
					limit = {
						has_dynamic_modifier = { modifier = SOL_infrastructure_hardening_bonus }
					}
					add_dynamic_modifier = { modifier = SOL_uprising_trains }
				}
				else = {
					add_dynamic_modifier = { modifier = SOL_uprising }
				}
			}
		}
	}
	title = paxsolaris.45.t
	desc = paxsolaris.45.d
	picture = GFX_event_bat_ponies
	fire_only_once = yes
	trigger = {
		is_SOLAR_EMPIRE = yes
		NLR = { exists = no }
		NLH = { exists = no }
		NMS = { exists = no }
		OR = {
			30 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			32 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			36 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			350 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			353 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			25 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			52 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
			79 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = SOL_bat_state } }
		}
	}
	mean_time_to_happen = {
		days = 7
	}
	option = {
		name = paxsolaris.45.a
		effect_tooltip = {
			add_stability = -0.05
			set_country_flag = SOL_bat_problems_flag
			every_state = {
				limit = {
					OR = {
						state = 30
						state = 32
						state = 36
						state = 350
						state = 353
						state = 25
						state = 52
						state = 79
					}
				}
				remove_core_of = ROOT
				add_claim_by = ROOT
				custom_effect_tooltip = SOL_uprising_add_to_state_tt
			}
		}
		add_to_variable = { var = solar_resistance_actions_progress value = 1 }
		custom_effect_tooltip = paxsolaris_resistance_strength_increase
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}
country_event = { 
	id = paxsolaris.46
	title = paxsolaris.46.t
	desc = paxsolaris.46.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.46" }
	option = { 
		name = paxsolaris.46.a
	}
}
country_event = { 
	id = paxsolaris.47
	title = paxsolaris.47.t
	desc = paxsolaris.47.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.47" }
	option = { 
		name = paxsolaris.47.a
	}
}
country_event = { 
	id = paxsolaris.48
	title = paxsolaris.48.t
	desc = paxsolaris.48.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.48" }
	option = { 
		name = paxsolaris.48.a
	}
}
country_event = { 
	id = paxsolaris.49
	title = paxsolaris.49.t
	desc = paxsolaris.49.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.49" }
	option = { 
		name = paxsolaris.49.a
	}
}
country_event = {
	id = paxsolaris.50
	title = paxsolaris.50.t
	desc = paxsolaris.50.d
	picture = GFX_event_ponies_cheering
	is_triggered_only = yes
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.50"
		add_to_variable = { var = paxsolaris_50 value = 1 }
	}
	desc = paxsolaris.50.d
	option = {
		name = paxsolaris.50.a
		custom_effect_tooltip = paxsolaris_loyalty_increase_2
		hidden_effect = {
			add_to_variable = { var = daybreaker_support value = 2 }
			SOL_calculate_loyalty = yes 
			set_country_flag = {
				flag = SOL_benevolent_public_timeout
				days = 30
				value = 1
			}
		}
	}
}
country_event = { 
	id = paxsolaris.51
	title = paxsolaris.51.t
	desc = paxsolaris.51.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.51" }
	option = { 
		name = paxsolaris.51.a
	}
}
country_event = { 
	id = paxsolaris.52
	title = paxsolaris.52.t
	desc = paxsolaris.52.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.52" }
	option = { 
		name = paxsolaris.52.a
	}
}
country_event = { 
	id = paxsolaris.53
	title = paxsolaris.53.t
	desc = paxsolaris.53.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.53" }
	option = { 
		name = paxsolaris.53.a
	}
}
country_event = { 
	id = paxsolaris.54
	title = paxsolaris.54.t
	desc = paxsolaris.54.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.54" }
	option = { 
		name = paxsolaris.54.a
	}
}
country_event = { 
	id = paxsolaris.55
	title = paxsolaris.55.t
	desc = paxsolaris.55.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.55" }
	option = { 
		name = paxsolaris.55.a
	}
}
country_event = {
	id = paxsolaris.56
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.56"}
	title = paxsolaris.56.t
	desc = paxsolaris.56.d
	picture = GFX_event_solarempire
	trigger = {
		tag = EQS
		has_country_flag = paxsolaris_56_yes
		controls_state = 136
	}
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = paxsolaris.56.a
	}
}
country_event = {
	id = paxsolaris.57
	is_triggered_only = yes
	hidden = yes
	option = {
		if = {
			limit = { is_ai = no }
			set_country_flag = sol_dialogue_twilight_first
			clr_country_flag = sol_dialogue_twilight_second
			clr_country_flag = sol_dialogue_twilight_third
			clr_country_flag = sol_dialogue_twilight_fourth
			clr_country_flag = sol_dialogue_twilight_win
			clr_country_flag = sol_dialogue_twilight_lose
			set_variable = { sol_dialogue_window_var = 1 }
			sol_dialogue_display_effect = yes
		}
		else = {
			country_event = { id = paxsolaris.112 days = 30 }
		}
	}
}
country_event = {
	id = paxsolaris.58
	is_triggered_only = yes
	hidden = yes
	option = {
		if = {
			limit = { is_ai = no }
			clr_country_flag = sol_dialogue_twilight_first
			set_country_flag = sol_dialogue_twilight_second
			clr_country_flag = sol_dialogue_twilight_third
			clr_country_flag = sol_dialogue_twilight_fourth
			clr_country_flag = sol_dialogue_twilight_win
			clr_country_flag = sol_dialogue_twilight_lose
			set_variable = { sol_dialogue_window_var = 1 }
			sol_dialogue_display_effect = yes
		}
		else = {
			country_event = { id = paxsolaris.112 days = 20 }
		}
	}
}
country_event = {
	id = paxsolaris.59
	is_triggered_only = yes
	hidden = yes
	option = {
		if = {
			limit = { is_ai = no }
			clr_country_flag = sol_dialogue_twilight_first
			clr_country_flag = sol_dialogue_twilight_second
			set_country_flag = sol_dialogue_twilight_third
			clr_country_flag = sol_dialogue_twilight_fourth
			clr_country_flag = sol_dialogue_twilight_win
			clr_country_flag = sol_dialogue_twilight_lose
			set_variable = { sol_dialogue_window_var = 1 }
			sol_dialogue_display_effect = yes
		}
		else = {
			country_event = { id = paxsolaris.112 days = 10 }
		}
	}
}
country_event = {
	id = paxsolaris.60
	is_triggered_only = yes
	hidden = yes
	option = {
		if = {
			limit = { is_ai = no }
			clr_country_flag = sol_dialogue_twilight_first
			clr_country_flag = sol_dialogue_twilight_second
			clr_country_flag = sol_dialogue_twilight_third
			set_country_flag = sol_dialogue_twilight_fourth
			clr_country_flag = sol_dialogue_twilight_win
			clr_country_flag = sol_dialogue_twilight_lose
			set_variable = { sol_dialogue_window_var = 1 }
			sol_dialogue_display_effect = yes
		}
		else = {
			country_event = { id = paxsolaris.112 days = 1 }
		}
	}
}
country_event = {
	id = paxsolaris.61
	is_triggered_only = yes
	hidden = yes
	option = {
		if = {
			limit = { is_ai = no }
			clr_country_flag = sol_dialogue_twilight_first
			clr_country_flag = sol_dialogue_twilight_second
			clr_country_flag = sol_dialogue_twilight_third
			clr_country_flag = sol_dialogue_twilight_fourth
			clr_country_flag = sol_dialogue_twilight_win
			clr_country_flag = sol_dialogue_twilight_lose
			if = {
				limit = { check_variable = { sol_dialogue_twilight_correct_num > 2 } }
				set_country_flag = sol_dialogue_twilight_win
			}
			else = {
				set_country_flag = sol_dialogue_twilight_lose
			}
			set_variable = { sol_dialogue_window_var = 1 }
			sol_dialogue_display_effect = yes
		}
		else = {
			country_event = { id = paxsolaris.112 days = 1 }
		}
	}
}
country_event = { 
	id = paxsolaris.62
	title = paxsolaris.62.t
	desc = {
		trigger = { has_country_flag = SOL_buffalo_problems_flag_nothing }
		text = paxsolaris.62.d_1
	}
	desc = {
		trigger = { has_country_flag = SOL_buffalo_problems_flag_work }
		text = paxsolaris.62.d_2
	}
	desc = {
		trigger = { has_country_flag = SOL_buffalo_problems_flag_genocide }
		text = paxsolaris.62.d_3
	}
	picture = GFX_event_appleloosa
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.62" }
	option = { 
		name = paxsolaris.62.a
		trigger = { has_country_flag = SOL_buffalo_problems_flag_genocide }
		89 = {
			add_core_of = EQS 
			set_state_name = "Haralred"
		}
		78 = {
			add_core_of = EQS 
			set_state_name = "White Sands"
		}
	}
	option = { 
		name = paxsolaris.62.b
		trigger = { has_country_flag = SOL_buffalo_problems_flag_nothing }
		89 = {
			set_state_name = "Haralred"
			add_resource = {
				type = oil
				amount = -12
			}
			set_state_flag = SOL_add_dissatisfied_natives
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
			custom_effect_tooltip = SOL_after_core_tt
			custom_effect_tooltip = SOL_dissatisfied_natives_tt
		}
		78 = {
			set_state_name = "White Sands"
			add_resource = {
				type = oil
				amount = -8
			}
			set_state_flag = SOL_add_dissatisfied_natives
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
			custom_effect_tooltip = SOL_after_core_tt
			custom_effect_tooltip = SOL_dissatisfied_natives_tt
		}
	}
	option = { 
		name = paxsolaris.62.c
		trigger = { NOT = { has_country_flag = SOL_buffalo_problems_flag_genocide } }
		89 = {
			add_core_of = EQS 
			set_state_name = "Haralred"
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
		}
		78 = {
			add_core_of = EQS 
			set_state_name = "White Sands"
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
		}
	}
	option = { 
		name = paxsolaris.62.e
		trigger = { NOT = { has_country_flag = SOL_buffalo_problems_flag_genocide } }
		89 = {
			set_state_name = "Haralred"
			SOL_genocide_effect = yes
		}
		78 = {
			set_state_name = "White Sands"
			SOL_genocide_effect = yes
		}
		custom_effect_tooltip = sol_all_uncored_BUF
		custom_effect_tooltip = SOL_genocide_effect_tt
		hidden_effect = {
			country_event = {
				id = paxsolaris.27
				days = 30
			}
		}
	}
}
country_event = { 
	id = paxsolaris.63
	title = paxsolaris.63.t
	desc = paxsolaris.63.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.63" 
		hidden_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				load_oob = "SOL_fleet_mtg"
			}
			else = {
				load_oob = "SOL_fleet_legacy"
			}
		}
	}
	option = { 
		name = paxsolaris.63.a
	}
}
country_event = { 
	id = paxsolaris.64
	title = paxsolaris.64.t
	desc = paxsolaris.64.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.64" }
	option = { 
		name = paxsolaris.64.a
	}
}
country_event = { 
	id = paxsolaris.65
	title = paxsolaris.65.t
	desc = paxsolaris.65.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.65" }
	option = { 
		name = paxsolaris.65.a
		custom_effect_tooltip = paxsolaris_government_consolidation_increase
		custom_effect_tooltip = paxsolaris_loyalty_decrease_2
		country_event = paxsolaris.66
		hidden_effect = {
			add_to_variable = { var = daybreaker_loyalty value = -2 }
			add_to_variable = { var = solar_civilian_measures_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.65.b
		custom_effect_tooltip = paxsolaris_government_consolidation_reset
		custom_effect_tooltip = paxsolaris_loyalty_increase_2
		country_event = paxsolaris.67
		hidden_effect = {
			set_variable = { var = solar_civilian_measures_progress value = 0 }
			add_to_variable = { var = daybreaker_loyalty value = 2 }
			SOL_calculate_loyalty = yes
		}
	}
}
country_event = { 
	id = paxsolaris.66
	title = paxsolaris.66.t
	desc = paxsolaris.66.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.66" }
	option = { 
		name = paxsolaris.66.a
	}
}
country_event = { 
	id = paxsolaris.67
	title = paxsolaris.67.t
	desc = paxsolaris.67.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.67" }
	option = { 
		name = paxsolaris.67.a
	}
}
country_event = { 
	id = paxsolaris.68
	title = paxsolaris.68.t
	desc = paxsolaris.68.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.68" }
	option = { 
		name = paxsolaris.68.a
	}
}

country_event = {
	id = paxsolaris.69
	title = paxsolaris.69.t
	trigger = {
		has_country_flag = march_on_canterlot
		is_SOLAR_EMPIRE = yes
		EQS = {
			OR = {
				has_completed_focus = SOL_hear_them_out
				has_completed_focus = SOL_send_in_the_tanks
			}
		}
		NOT = { 
			has_country_flag = SOL_harmonic_commanders_leave 
			has_country_flag = SOL_harmonic_commanders_return
		}
	}
	fire_only_once = yes
	picture = GFX_event_hrm_poster
	mean_time_to_happen = {
		days = 20
	}
	desc = paxsolaris.69.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.69"
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						tag = EQS
						tag = EQR
						tag = NLR
						tag = NLH
					}
				}
				if = {
					limit = { has_character = EQS_evening_squall }
					EQS_evening_squall = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_tempest_wind }
					EQS_NLR_tempest_wind = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_celenite }
					EQS_NLR_celenite = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_midnight_oil }
					EQS_NLR_midnight_oil = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_bipen }
					EQS_NLR_bipen = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_oli_equites }
					EQS_oli_equites = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_sunrise_moonshadow }
					EQS_sunrise_moonshadow = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_starswirl }
					EQS_starswirl = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_dust_hoover }
					EQS_dust_hoover = { set_nationality = ACC }
				}
				if = {
					limit = { has_character = EQS_cocopomell }
					EQS_cocopomell = { 
						if = {
							limit = { 
								is_character_slot = political_advisor 
								NOT = { is_character_slot = high_command }
							}
							remove_advisor_role = { slot = political_advisor }
							add_advisor_role = {
								advisor = {
									slot = high_command
									idea_token = EQS_cocopommel
									traits = { uniform_designer }
									ai_will_do = {
										factor = 1
									}
								}
							}
						}
						set_nationality = HRM 
					}
				}
				if = {
					limit = { has_character = EQS_mayor_mare }
					EQS_mayor_mare = { 
						if = {
							limit = { is_advisor = no  }
							add_advisor_role = {
								advisor = {
									slot = political_advisor
									idea_token = EQS_mayor_mare
									traits = { populist }
									ai_will_do = {
										factor = 1
									}
									available = {
										if = {
											limit = { tag = HRM }
											custom_trigger_tooltip = {
												tooltip = HRM_proven_ourselves_to_the_harmonists
												has_country_flag = HRM_the_rebirth_of_harmony_flag
											}
										}
									}
								}
							}
						}
						set_nationality = HRM 
					}
				}
				if = {
					limit = { has_character = EQS_fancy_pants }
					EQS_fancy_pants = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_filthy_rich }
					EQS_filthy_rich = { set_nationality = LPA }
				}
				if = {
					limit = { has_character = EQS_sweetie_drops }
					EQS_sweetie_drops = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_rockhoof }
					EQS_rockhoof = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_flash_magnus }
					EQS_flash_magnus = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_kittyhawk }
					EQS_kittyhawk = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_eqs6 }
					EQS_eqs6 = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_maudpie }
					EQS_maudpie = {
						if = {
							limit = { is_unit_leader = no }
							add_corps_commander_role = {
								character = EQS_maudpie
								traits = { pony_race_trait rock_girl }
								skill = 3
								attack_skill = 1
								defense_skill = 4
								planning_skill = 1
								logistics_skill = 4
								desc = "EQS_maudpie_desc"
							} 
						} 
						set_nationality = SHF 
					}
				}
				if = {
					limit = { has_character = EQS_limestone }
					EQS_limestone = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_zecora }
					retire_character = EQS_zecora
				}
				if = {
					limit = { has_character = EQS_grannysmith }
					EQS_grannysmith = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_spitfire }
					EQS_spitfire = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_braeburn }
					EQS_braeburn = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_sergeant_reckless }
					EQS_sergeant_reckless = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_big_macintosh }
					EQS_big_macintosh = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_caltrop_decay }
					EQS_caltrop_decay = { 
						set_nationality = HRM
						if = {
							limit = { 
								NOT = { is_character_slot = high_command }
							}
							add_advisor_role = {
								advisor = {
									slot = high_command
									idea_token = caltrop_decay
									ledger = army
									cost = 100
									available = {
										if = {
											limit = { tag = HRM }
											custom_trigger_tooltip = {
												tooltip = HRM_proven_ourselves_to_the_harmonists
												has_country_flag = HRM_the_rebirth_of_harmony_flag
											}
										}
										if = {
											limit = { original_tag = EQS }
											custom_trigger_tooltip = {
												tooltip = EQS_has_new_advisors
												has_global_flag = EQS_completed_advisors
											}
										}
										if = {
											limit = { is_SOLAR_EMPIRE = yes }
											custom_trigger_tooltip = {
												tooltip = sol_harmonists_have_deserted_tt
												NOT = { has_country_flag = SOL_harmonic_commanders_leave }
											}
										}
									}
									traits = { army_armored_2 }
									ai_will_do = {
										factor = 1
									}
								}
							}
						}
					}
				}
			}
			set_country_flag = SOL_harmonic_commanders_leave
			set_country_flag = SOL_harmonic_companies_leave
		}
	}
	option = {
		name = paxsolaris.69.a
		custom_effect_tooltip = SOL_harmonist_commanders_advisors_companies_desert
	}
}
country_event = {
	id = paxsolaris.70
	title = paxsolaris.70.t
	desc = paxsolaris.70.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.70"
		hidden_effect = {
			SOL_calculate_probability = yes
			divide_variable = { probability_check = 2 }
			round_variable = probability_check
			add_to_variable = { SOL_inq_report_var = probability_check }
		}
	}
	option = { 
		name = paxsolaris.70.a
	}
}
country_event = {
	id = paxsolaris.71
	title = paxsolaris.71.t
	desc = paxsolaris.71.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.71"
		hidden_effect = {
			SOL_calculate_probability = yes
			divide_variable = { probability_check = 2 }
			round_variable = probability_check
			add_to_variable = { SOL_inq_report_var = probability_check }
		}
	}
	option = { 
		name = paxsolaris.71.a
	}
}
country_event = {
	id = paxsolaris.72
	title = paxsolaris.72.t
	desc = paxsolaris.72.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.72"
		hidden_effect = {
			SOL_calculate_probability = yes
			divide_variable = { probability_check = 2 }
			round_variable = probability_check
			add_to_variable = { SOL_inq_report_var = probability_check }
		}
	}
	option = { 
		name = paxsolaris.72.a
	}
}
country_event = {
	id = paxsolaris.73
	title = paxsolaris.73.t
	desc = paxsolaris.73.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.73"
		hidden_effect = {
			SOL_calculate_probability = yes
			divide_variable = { probability_check = 2 }
			round_variable = probability_check
			add_to_variable = { SOL_inq_report_var = probability_check }
			SOL_calculate_leads_medium = yes
			add_to_variable = { var = SOL_lead_variable value = lead_counter }
			add_to_variable = { var = solar_resistance_actions_progress value = -1 }
		}
	}
	option = { 
		name = paxsolaris.73.a
		custom_effect_tooltip = paxsolaris_resistance_strength_decrease
		custom_effect_tooltip = paxsolaris_leads_increase_raid
	}
}
country_event = {
	id = paxsolaris.74
	title = paxsolaris.74.t
	desc = paxsolaris.74.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.74"
	}
	option = { 
		name = paxsolaris.74.a
	}
}
country_event = {
	id = paxsolaris.75
	title = paxsolaris.75.t
	desc = paxsolaris.75.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.75"
	}
	option = { 
		name = paxsolaris.75.a
		if = {
			limit = {
				divisions_in_state = {
					size > 9
					state = event_target:SOL_resistance_stronghold
				}
				NOT = { has_country_flag = sol_inquisition_spies }
			}
			custom_effect_tooltip = inquisitionaction
			custom_effect_tooltip = paxsolaris_resistance_cohesion_decrease
			custom_effect_tooltip = paxsolaris_75_tt_50_days
		}
		else_if = {
			limit = {
				divisions_in_state = {
					size > 3
					state = event_target:SOL_resistance_stronghold
				}
			}
			custom_effect_tooltip = inquisitionaction
			custom_effect_tooltip = paxsolaris_75_tt_30_days
		}
		if = {
			limit = {
				check_variable = { daybreaker_support_temp_loss_tracker > 0 }
			}
			custom_effect_tooltip = paxsolaris_75_tt_loyalty
		}
		if = {
			limit = {
				check_variable = { SOL_lead_variable_temp_gain_tracker > 0 }
			}
			custom_effect_tooltip = paxsolaris_75_tt_leads
		}
		set_variable = { var = daybreaker_support_temp_loss_tracker value = 0 }
		set_variable = { var = SOL_lead_variable_temp_gain_tracker value = 0 }
		set_variable = { var = strike_at_resistance_success_rating value = 0 }
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}
country_event = {
	id = paxsolaris.77
	title = paxsolaris.77.t
	desc = paxsolaris.77.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.77"
	}
	option = { 
		name = paxsolaris.77.a
		hidden_effect = {
			if = {
				limit = {
					check_variable = { SOL_arrest_sympathisers_target_var = 1 }
				}
				country_event = {
					id = paxsolaris.78
					days = 2
				}
			}
			else = {
				country_event = {
					id = paxsolaris.79
					days = 2
				}
			}
		}
	}
	option = { 
		name = paxsolaris.77.b
		hidden_effect = {
			if = {
				limit = {
					check_variable = { SOL_arrest_sympathisers_target_var = 2 }
				}
				country_event = {
					id = paxsolaris.78
					days = 2
				}
			}
			else = {
				country_event = {
					id = paxsolaris.79
					days = 2
				}
			}
		}
	}
	option = { 
		name = paxsolaris.77.c
		trigger = {
			NOT = {
				AND = {
					has_country_flag = SOL_twilight_ascended
					has_country_flag = upgraded_inquisition
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					check_variable = { SOL_arrest_sympathisers_target_var = 3 }
				}
				country_event = {
					id = paxsolaris.78
					days = 2
				}
			}
			else = {
				country_event = {
					id = paxsolaris.79
					days = 2
				}
			}
		}
	}
	option = { 
		name = paxsolaris.77.e
		trigger = {
			NOT = {
				OR = {
					has_country_flag = SOL_twilight_ascended
					has_country_flag = upgraded_inquisition
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					check_variable = { SOL_arrest_sympathisers_target_var = 4 }
				}
				country_event = {
					id = paxsolaris.78
					days = 2
				}
			}
			else = {
				country_event = {
					id = paxsolaris.79
					days = 2
				}
			}
		}
	}
}
country_event = {
	id = paxsolaris.78
	title = paxsolaris.78.t
	desc = paxsolaris.78.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.78"
		hidden_effect = {
			SOL_calculate_leads_medium = yes
			add_to_variable = { var = SOL_lead_variable value = lead_counter }
			add_to_variable = { var = solar_resistance_outreach_actions_progress value = -1 }
			clr_country_flag = information_strike_in_progress
		}
	}
	option = { 
		name = paxsolaris.78.a
		custom_effect_tooltip = paxsolaris_resistance_outreach_decrease
		custom_effect_tooltip = paxsolaris_leads_increase_arrest
	}
}
country_event = {
	id = paxsolaris.79
	title = paxsolaris.79.t
	desc = paxsolaris.79.d
	picture = GFX_inquisition_stamp
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.79"
		hidden_effect = {
			clr_country_flag = information_strike_in_progress
		}
	}
	option = { 
		name = paxsolaris.79.a
	}
}
news_event = {
	id = paxsolaris.80
	title = paxsolaris.80.t
	desc = paxsolaris.80.d
	picture = GFX_news_sunset_city
	is_triggered_only = yes
	fire_only_once = no
	major = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.80"
		hidden_effect = {
			set_variable = { var = SOL_resistance_attack_type_temp value = SOL_resistance_attack_type }
			event_target:SOL_resistance_attack_target_true = { save_global_event_target_as = SOL_resistance_attack_target_true_temp } 
			SOL_calculate_leads_small = yes
			add_to_variable = { var = SOL_lead_variable value = lead_counter }
		}
	}
	option = { 
		name = paxsolaris.80.a
		custom_effect_tooltip = paxsolaris_leads_increase_riot
	}
}
news_event = {
	id = paxsolaris.81
	title = paxsolaris.81.t
	desc = paxsolaris.81.d
	picture = GFX_news_manehattan_explosion
	is_triggered_only = yes
	fire_only_once = no
	major = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.81"
		hidden_effect = {
			if = {
				limit = { check_variable = { SOL_resistance_attack_type = 1 } }
				add_to_variable = { var = solar_civilian_measures_progress value = -1 }
				event_target:SOL_resistance_attack_target_true = {
					add_dynamic_modifier = {
						modifier = SOL_arson_effect
						days = 60
					}
					if = {
						limit = { 
							non_damaged_building_level = {
								building = arms_factory
								level > 0		
							}
						}
						damage_building = {
							type = arms_factory
							damage = 1
						}
					}
					if = {
						limit = { 
							non_damaged_building_level = {
								building = industrial_complex
								level > 0		
							}
						}
						damage_building = {
							type = industrial_complex
							damage = 1
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { SOL_resistance_attack_type = 2 } }
				add_to_variable = { var = solar_civilian_measures_progress value = -1 }
				event_target:SOL_resistance_attack_target_true = {
					add_dynamic_modifier = {
						modifier = SOL_sabotage_effect
						days = 60
					}
					if = {
						limit = { 
							non_damaged_building_level = {
								building = synthetic_refinery
								level > 0		
							}
						}
						damage_building = {
							type = synthetic_refinery
							damage = 1
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { SOL_resistance_attack_type = 3 } }
				add_to_variable = { var = solar_military_measures_progress value = -1 }
				event_target:SOL_resistance_attack_target_true = {
					add_dynamic_modifier = {
						modifier = SOL_bombing_effect
						days = 60
					}
					if = {
						limit = { 
							non_damaged_building_level = {
								building = infrastructure
								level > 1		
							}
						}
						damage_building = {
							type = infrastructure
							damage = 2
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { SOL_resistance_attack_type = 4 } }
				add_to_variable = { var = solar_military_measures_progress value = -1 }
				add_timed_idea = {
					idea = SOL_assassination
					days = 60
				}
			}
			else_if = {
				limit = { check_variable = { SOL_resistance_attack_type = 5 } }
				add_to_variable = { var = solar_civilian_measures_progress value = -1 }
				add_timed_idea = {
					idea = SOL_labratory_research
					days = 60
				}
			}
			else_if = {
				limit = { check_variable = { SOL_resistance_attack_type = 6 } }
				add_to_variable = { var = solar_military_measures_progress value = -1 }
				add_timed_idea = {
					idea = SOL_intel_breach
					days = 60
				}
			}
			set_variable = { var = SOL_resistance_attack_type_temp value = SOL_resistance_attack_type }
			event_target:SOL_resistance_attack_target_true = { save_global_event_target_as = SOL_resistance_attack_target_true_temp } #To prevent the event from displaying the future target
		}
	}
	option = { 
		name = paxsolaris.81.a
		custom_effect_tooltip = Attack_effect_tt
	}
}
country_event = { 
	id = paxsolaris.82
	title = paxsolaris.82.t
	desc = paxsolaris.82.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.82" }
	option = { 
		name = paxsolaris.82.a
		ai_chance = {
		    factor = 33
			modifier = {
				factor = 0
				OR = {
					has_tech = formation_flying
					has_tech = force_rotation
					is_researching_technology = formation_flying
					is_researching_technology = force_rotation
				}
			}
		}
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = cat_strategic_destruction
			cost_reduction = 0.5
			uses = 2
			category = cat_strategic_destruction
		}
		add_tech_bonus = {
			name = bomber_bonus
			bonus = 1.0
			uses = 2
			category = tactical_bomber
			category = cat_heavy_fighter
			category = cat_strategic_bomber
		}
	}
	option = { 
		name = paxsolaris.82.b
		ai_chance = {
		    factor = 34
			modifier = {
				factor = 0
				OR = {
					has_tech = air_superiority
					has_tech = force_rotation
					is_researching_technology = air_superiority
					is_researching_technology = force_rotation
				}
			}
		}
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = cat_battlefield_support
			cost_reduction = 0.5
			uses = 2
			category = cat_battlefield_support
		}
		add_tech_bonus = {
			name = CAS_bonus
			bonus = 1.0
			uses = 2
			category = cas_bomber
			category = light_fighter
			category = naval_bomber
		}
	}
	option = { 
		name = paxsolaris.82.c
		ai_chance = {
		    factor = 33
			modifier = {
				factor = 0
				OR = {
					has_tech = air_superiority
					has_tech = formation_flying
					is_researching_technology = air_superiority
					is_researching_technology = formation_flying
				}
			}
		}
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = cat_operational_integrity
			cost_reduction = 0.5
			uses = 2
			category = cat_operational_integrity
		}
		add_tech_bonus = {
			name = bomber_bonus
			bonus = 1.0
			uses = 1
			category = tactical_bomber
			category = cat_heavy_fighter
			category = cat_strategic_bomber
		}
		add_tech_bonus = {
			name = CAS_bonus
			bonus = 1.0
			uses = 1
			category = cas_bomber
			category = light_fighter
			category = naval_bomber
		}
	}
}
country_event = { 
	id = paxsolaris.83
	title = paxsolaris.83.t
	desc = paxsolaris.83.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.83" }
	option = { 
		name = paxsolaris.83.a
		set_technology = { tech_tactical_teleportation_assault = 1 popup = yes }
		custom_effect_tooltip = tech_tactical_teleportation_assault_buff
	}
	option = { 
		name = paxsolaris.83.b
		set_technology = { tech_tactical_teleportation_healing = 1 popup = yes }
		custom_effect_tooltip = tech_tactical_teleportation_healing_buff
	}
}
country_event = { 
	id = paxsolaris.84
	title = paxsolaris.84.t
	desc = paxsolaris.84.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.84" }
	option = { 
		name = paxsolaris.84.a
	}
}
country_event = { 
	id = paxsolaris.85
	title = paxsolaris.85.t
	desc = paxsolaris.85.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.85" }
	option = { 
		name = paxsolaris.85.a
		custom_effect_tooltip = paxsolaris_loyalty_increase_2
		hidden_effect = {
			add_to_variable = { var = daybreaker_loyalty value = 2 }
			SOL_calculate_loyalty = yes
			set_country_flag = solar_church_blocked
		}
	}
	option = { 
		name = paxsolaris.85.b
		custom_effect_tooltip = solar_church_unlocked_tt
	}
}
country_event = { 
	id = paxsolaris.86
	title = paxsolaris.86.t
	desc = paxsolaris.86.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.86" }
	option = { 
		name = paxsolaris.86.a
	}
}
country_event = { 
	id = paxsolaris.87
	title = paxsolaris.87.t
	desc = paxsolaris.87.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.87" }
	option = { 
		name = paxsolaris.87.a
	}
}
# Demanding the Dragon Lands
country_event = {
	id = paxsolaris.88
	title = paxsolaris.88.t
	desc = paxsolaris.88.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.88" }
	option = { # Accept
		name = paxsolaris.88.a
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				EQS = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				EQS = { has_army_size = { size > 39 } }
			}
		}
		EQS = {
			country_event = { hours = 2 id = paxsolaris.89 }
		}
		if = {
			limit = { tag = DRG }
			custom_effect_tooltip = GAME_OVER_TT
		}
	}
	option = { # Refuse
		name = paxsolaris.88.b
		trigger = {
			NOT = { is_subject_of = EQS }
		}
		add_political_power = 150
		add_war_support = 0.15
		if = {
			limit = { is_in_faction_with = EQS }
			leave_faction = yes
		}
		hidden_effect = {
			EQS = {
				diplomatic_relation = {
				    country = DRG
				    relation = guarantee
				    active = no
				}
				diplomatic_relation = {
				    country = DRG
				    relation = non_aggression_pact
				    active = no
				}
			}
		}
		ai_chance = {
			base = 10			
			modifier = {
				EQS = { has_army_size = { size > 39 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				EQS = { has_army_size = { size < 30 } }
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 5
				is_in_faction = yes
				NOT = { is_in_faction_with = EQS }
				any_country = {
					is_in_faction_with = PREV
					strength_ratio = {
					    tag = EQS
					    ratio > 0.8
					}
				}
			}
		}
		EQS = {
			country_event = { hours = 2 id = paxsolaris.90 }
		}
	}
}
# Dragons Accept
country_event = {
	id = paxsolaris.89
	title = paxsolaris.89.t
	desc = paxsolaris.89.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.89" }
	option = {
		name = paxsolaris.89.a
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 17
						state = 6
						state = 4
						state = 37
						state = 7
						state = 9
						state = 8
						state = 10
						state = 328
					}
					OR = {
						is_owned_by = FROM
						owner = { is_subject_of = FROM }
					}	
					NOT = { is_owned_by = EQS }
				}
				EQS = { transfer_state = PREV } 
			}
			every_state = {
				limit = {
					OR = {
						state = 17
						state = 4
						state = 37
					}
				}
				remove_core_of = DRG
				remove_claim_by = DRG
			}
		}
		if = {
			limit = {
				DRG = { exists = yes }
				OR = {
					FROM = { tag = DRG }
					DRG = { is_subject_of = FROM }
				}
			}
			annex_country = {
			    target = DRG
			    transfer_troops = no
			}
		}
	}
}
# Dragons Refuse
country_event = {
	id = paxsolaris.90
	title = paxsolaris.90.t
	desc = paxsolaris.90.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.90" }
	option = {
		name = paxsolaris.90.a
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 17
						state = 6
						state = 4
						state = 37
						state = 7
						state = 9
						state = 8
						state = 10
						state = 328
					}
					OR = {
						is_owned_by = FROM
						owner = { is_subject_of = FROM }
					}	
					NOT = { is_owned_by = EQS }
				}
				EQS = { add_state_claim = PREV } 
			}
		}
		hidden_effect = { FROM = { set_country_flag = SOL_annexation_target } }
	}
}
country_event = { 
	id = paxsolaris.91
	title = paxsolaris.91.t
	desc = paxsolaris.91.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.91" }
	option = { 
		name = paxsolaris.91.a
		6 = {
			hidden_effect = {
				SOL_remove_uprising = yes
			}
			add_resource = {
				type = crystals
				amount = -4
			}
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
		}
		7 = {
			hidden_effect = {
				SOL_remove_uprising = yes
			}
			add_resource = {
				type = crystals
				amount = -4
			}
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
		}
		8 = {
			hidden_effect = {
				SOL_remove_uprising = yes
			}
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
		}
		9 = {
			set_state_name = "Halite Shores"
			hidden_effect = {
				SOL_remove_uprising = yes
			}
			add_resource = {
				type = crystals
				amount = -2
			}
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
		}
		10 = {
			hidden_effect = {
				SOL_remove_uprising = yes
			}
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
		}
		328 = {
			hidden_effect = {
				SOL_remove_uprising = yes
			}
			custom_effect_tooltip = SOL_compliance_limit_increase_20
			add_to_variable = { var = sol_compliance_limit value = 20 }
			custom_effect_tooltip = SOL_compliance_to_core_set_40
			set_variable = { var = sol_compliance_to_core value = 40 }
		}
	}
	option = { 
		name = paxsolaris.91.b
		6 = {
			add_core_of = EQS 
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
			add_resource = {
				type = crystals
				amount = 2
			}
		}
		7 = {
			add_core_of = EQS 
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
			add_resource = {
				type = crystals
				amount = 6
			}
		}
		8 = {
			add_core_of = EQS 
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
		}
		9 = {
			add_core_of = EQS 
			set_state_name = "Halite Shores"
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
			add_resource = {
				type = crystals
				amount = 4
			}
		}
		10 = {
			add_core_of = EQS 
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
		}
		328 = {
			add_core_of = EQS 
			hidden_effect = {
				SOL_remove_uprising = yes
				add_dynamic_modifier = { modifier = SOL_policed_ghettos }
			}
			custom_effect_tooltip = SOL_policed_ghettos_tt
		}
	}
	option = { 
		name = paxsolaris.91.c
		6 = {
			SOL_genocide_effect = yes
		}
		7 = {
			SOL_genocide_effect = yes
		}
		8 = {
			SOL_genocide_effect = yes
		}
		9 = {
			set_state_name = "Halite Shores" 
			SOL_genocide_effect = yes
		}
		10 = {
			SOL_genocide_effect = yes
		}
		328 = {
			SOL_genocide_effect = yes
		}
		custom_effect_tooltip = sol_all_uncored_DRG
		custom_effect_tooltip = SOL_genocide_effect_tt
	}
}
country_event = { #Successful Genocide
	id = paxsolaris.92
	title = paxsolaris.92.t
	desc = paxsolaris.92.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.92" }
	option = { 
		name = paxsolaris.92.a
		every_state = {
			limit = { is_core_of = DRG }
			remove_core_of = DRG
		}
		hidden_effect = {
			every_state = {
				limit = { is_claimed_by = DRG }
				DRG = { remove_state_claim = PREV }
			}
		}
	}
}
country_event = { 
	id = paxsolaris.93
	title = paxsolaris.93.t
	desc = paxsolaris.93.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.93" }
	option = { 
		name = paxsolaris.93.a
	}
}
country_event = { 
	id = paxsolaris.94
	title = paxsolaris.94.t
	desc = paxsolaris.94.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.94" }
	option = { 
		name = paxsolaris.94.a
	}
}
country_event = { 
	id = paxsolaris.95
	title = paxsolaris.95.t
	desc = paxsolaris.95.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.95"
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						tag = EQS
						tag = EQR
						tag = NLR
						tag = NLH
						tag = HRM
						tag = ARL
						tag = ACC
						tag = LPA
						tag = SHF
					}
				}
				if = {
					limit = { has_character = EQS_starswirl }
					retire_character = EQS_starswirl
				}
				if = {
					limit = { has_character = EQS_rockhoof }
					retire_character = EQS_rockhoof
				}
				if = {
					limit = { has_character = EQS_flash_magnus }
					retire_character = EQS_flash_magnus
				}
				if = {
					limit = { has_character = HRM_mage_meadowbrook }
					retire_character = HRM_mage_meadowbrook
				}
				if = {
					limit = { has_character = EQS_kittyhawk }
					retire_character = EQS_kittyhawk
				}
				if = {
					limit = { has_character = EQS_maudpie }
					retire_character = EQS_maudpie
				}
				if = {
					limit = { has_character = EQS_limestone }
					retire_character = EQS_limestone
				}
				if = {
					limit = { has_character = EQS_braeburn }
					retire_character = EQS_braeburn
				}
				if = {
					limit = { has_character = EQS_sergeant_reckless }
					retire_character = EQS_sergeant_reckless
				}
				if = {
					limit = { has_character = EQS_big_macintosh }
					retire_character = EQS_big_macintosh
				}
				if = {
					limit = { has_character = EQS_caltrop_decay }
					retire_character = EQS_caltrop_decay
				}
				if = {
					limit = { has_character = HRM_fairy_light }
					retire_character = HRM_fairy_light
				}
				if = {
					limit = { has_character = HRM_misty_fly }
					retire_character = HRM_misty_fly
				}
				if = {
					limit = { has_character = HRM_on_stage }
					retire_character = HRM_on_stage
				}
				if = {
					limit = { has_character = HRM_sunny_shine }
					retire_character = HRM_sunny_shine
				}
				if = {
					limit = { has_character = HRM_duke_dapper }
					retire_character = HRM_duke_dapper
				}
				if = {
					limit = { has_character = EQS_limestone }
					retire_character = EQS_limestone
				}
				if = {
					limit = { has_character = EQS_grannysmith }
					retire_character = EQS_grannysmith
				}
				if = {
					limit = { has_character = EQS_eqs6 }
					retire_character = EQS_eqs6
				}
			}
		}
	}
	option = { 
		name = paxsolaris.95.a
	}
}
country_event = { 
	id = paxsolaris.96
	title = paxsolaris.96.t
	desc = paxsolaris.96.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.96" }
	option = { 
		name = paxsolaris.96.a
	}
}
country_event = { 
	id = paxsolaris.97
	title = paxsolaris.97.t
	desc = paxsolaris.97.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.97" }
	option = { 
		name = paxsolaris.97.a
		custom_effect_tooltip = SOL_purge_1_tt
		hidden_effect = {
			retire_character = EQS_fizzlepop
			retire_character = EQS_cynosura
			retire_character = EQS_madoor_stronghammer
			retire_character = EQS_bernard_hoofgonery
		}
		set_country_flag = SOL_purge_1
	}
	option = { 
		name = paxsolaris.97.b
	}
}
country_event = { 
	id = paxsolaris.98
	title = paxsolaris.98.t
	desc = paxsolaris.98.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.98" }
	option = { 
		name = paxsolaris.98.a
		custom_effect_tooltip = SOL_purge_2_tt
		hidden_effect = {
			retire_character = EQS_SOL_wind_rider
			retire_character = EQS_swift_wing
			retire_character = EQS_SOL_suri_polomare
		}
		set_country_flag = SOL_purge_2
	}
	option = { 
		name = paxsolaris.98.b
	}
}
country_event = { 
	id = paxsolaris.99
	title = paxsolaris.99.t
	desc = paxsolaris.99.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.99" }
	option = { 
		name = paxsolaris.99.a
		custom_effect_tooltip = SOL_purge_3_tt
		hidden_effect = {
			retire_character = EQS_soarin
			retire_character = EQS_fast_clip
			retire_character = EQS_whiplash
			retire_character = EQS_wonderbolts
		}
		set_country_flag = SOL_purge_3
	}
	option = { 
		name = paxsolaris.99.b
	}
}
#Celestia evil flavour events
country_event = { #Worried
	id = paxsolaris.100
	title = paxsolaris.100.t
	desc = paxsolaris.100.d
	picture = GFX_event_pony_soldiers_sunset
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.100" }
	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 9 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		any_country = {
			has_added_tension_amount > 5
			is_on_equestrian_continent = yes
		}
		NLR = { exists = no }
	}
	fire_only_once = yes

	option = { 
		name = paxsolaris.100.a
		set_country_flag = { flag = celestia_events value = 1 }
	}
}

country_event = { #Stressed
	id = paxsolaris.101
	title = paxsolaris.101.t
	desc = paxsolaris.101.d
	picture = GFX_mane_6_war_council
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.101" }
	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 17 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_country_flag = { flag = celestia_events value > 0 }
		any_country = {
			has_added_tension_amount > 5
			is_on_equestrian_continent = yes
		}
		NLR = { exists = no }
	}

	fire_only_once = yes
	option = { 
		name = paxsolaris.101.a
		set_country_flag = { flag = celestia_events value = 2 }
	}
}

country_event = { #Overwhelmed
	id = paxsolaris.102
	title = paxsolaris.102.t
	desc = {
		text = paxsolaris.102.d_luna
		trigger = {
			has_idea = alicorn_sisters
		}
	}
	desc = {
		text = paxsolaris.102.d_alone
		trigger = {
			NOT = { has_idea = alicorn_sisters }
		}
	}
	picture = GFX_canterlot_celestia
	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 25 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_country_flag = { flag = celestia_events value > 1 }
		any_country = {
			has_added_tension_amount > 5
			is_on_equestrian_continent = yes
		}
		NLR = { exists = no }
	}
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.102"
		hidden_effect = {
			if = {
				limit = { has_war_with = CHN }
				CHN = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war_with = CRY }
				CRY = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war_with = STG }
				STG = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war = yes }
				random_country = {
					limit = {
						has_war_with = ROOT
					}
					if = {
						limit = { is_subject = yes }
						OVERLORD = { save_global_event_target_as = primary_enemy }
					}
					else = {
						save_global_event_target_as = primary_enemy
					}
				}
			}
			else_if = {
				limit = { CRY = { has_government = fascism } }
				CRY = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { CHN = { has_government = fascism } }
				CHN = { save_global_event_target_as = primary_enemy }
			}
			else = {
				random_country = {
					limit = {
						has_added_tension_amount > 5
						is_on_equestrian_continent = yes
					}
					if = {
						limit = { is_subject = yes }
						OVERLORD = { save_global_event_target_as = primary_enemy }
					}
					else = {
						save_global_event_target_as = primary_enemy
					}
				}
			}
		}
	}
	fire_only_once = yes

	option = {
		name = paxsolaris.102.a
		hidden_effect = {
			modify_country_flag = { flag = celestia_evil_meter value = -6 }
		}
		trigger = {
			has_idea = alicorn_sisters
		}
		set_country_flag = { flag = celestia_events value = 3 }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_global_flag = EQS_evil_celestia
			}
		}
	}

	option = {
		name = paxsolaris.102.b
		trigger = {
			has_idea = alicorn_sisters
		}
		set_country_flag = { flag = celestia_events value = 3 }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = { is_historical_focus_on = yes has_global_flag = EQS_nice_celestia }
			}
			modifier = {
				factor = 1000
				has_global_flag = EQS_evil_celestia
			}
		}
	}
	option = {
		name = paxsolaris.102.c
		trigger = {
			NOT = { has_idea = alicorn_sisters }
		}
		set_country_flag = { flag = celestia_events value = 3 }
	}
}

country_event = { #Angry
	id = paxsolaris.103
	title = paxsolaris.103.t
	desc = paxsolaris.103.d
	picture = GFX_event_changeling_crest

	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 32 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_country_flag = { flag = celestia_events value > 2 }
		has_war = yes
		any_country = {
			has_added_tension_amount > 5
			is_on_equestrian_continent = yes
		}
		NLR = { exists = no }
	}
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.103"
		hidden_effect = {
			if = {
				limit = { has_war_with = CHN }
				CHN = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war_with = CRY }
				CRY = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war_with = STG }
				STG = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war = yes }
				random_country = {
					limit = {
						has_war_with = ROOT
					}
					if = {
						limit = { is_subject = yes }
						OVERLORD = { save_global_event_target_as = primary_enemy }
					}
					else = {
						save_global_event_target_as = primary_enemy
					}
				}
			}
			else_if = {
				limit = { CRY = { has_government = fascism } }
				CRY = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { CHN = { has_government = fascism } }
				CHN = { save_global_event_target_as = primary_enemy }
			}
			else = {
				random_country = {
					limit = {
						has_added_tension_amount > 5
						is_on_equestrian_continent = yes
					}
					if = {
						limit = { is_subject = yes }
						OVERLORD = { save_global_event_target_as = primary_enemy }
					}
					else = {
						save_global_event_target_as = primary_enemy
					}
				}
			}
		}
	}
	fire_only_once = yes

	option = { 
		name = paxsolaris.103.a
		hidden_effect = {
			country_event = { id = paxsolaris.105 }
			country_event = {
				id = paxsolaris.113
				days = 3
			}
		}
		set_country_flag = { flag = celestia_events value = 4 }
	}
}

country_event = { #Vengeful
	id = paxsolaris.104
	title = paxsolaris.104.t
	desc = paxsolaris.104.d
	picture = GFX_sol_daybreaker

	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 39 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_country_flag = { flag = celestia_events value > 3 }
		has_war = yes
		any_country = {
			has_added_tension_amount > 5
			is_on_equestrian_continent = yes
		}
		NLR = { exists = no }
	}
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.104"
		hidden_effect = {
			if = {
				limit = { has_war_with = CHN }
				CHN = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war_with = CRY }
				CRY = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war_with = STG }
				STG = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { has_war = yes }
				random_country = {
					limit = {
						has_war_with = ROOT
					}
					if = {
						limit = { is_subject = yes }
						OVERLORD = { save_global_event_target_as = primary_enemy }
					}
					else = {
						save_global_event_target_as = primary_enemy
					}
				}
			}
			else_if = {
				limit = { CRY = { has_government = fascism } }
				CRY = { save_global_event_target_as = primary_enemy }
			}
			else_if = {
				limit = { CHN = { has_government = fascism } }
				CHN = { save_global_event_target_as = primary_enemy }
			}
			else = {
				random_country = {
					limit = {
						has_added_tension_amount > 5
						is_on_equestrian_continent = yes
					}
					if = {
						limit = { is_subject = yes }
						OVERLORD = { save_global_event_target_as = primary_enemy }
					}
					else = {
						save_global_event_target_as = primary_enemy
					}
				}
			}
		}
	}
	fire_only_once = yes

	option = { 
		name = paxsolaris.104.a
		hidden_effect = {
			country_event = { id = paxsolaris.106 }
		}
	}
}

country_event = { #Angry P2
	id = paxsolaris.105
	title = paxsolaris.105.t
	desc = paxsolaris.105.d
	picture = GFX_event_changeling_crest

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = paxsolaris.105.a
	}
}

country_event = { #Vengeful P2
	id = paxsolaris.106
	title = paxsolaris.106.t
	desc = paxsolaris.106.d
	picture = GFX_sol_daybreaker

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = paxsolaris.106.a
	}
}
country_event = { #Remove curse
	id = paxsolaris.107
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.107"}
	title = paxsolaris.107.t
	desc = paxsolaris.107.d
	picture = GFX_the_sun
	trigger = {
		tag = EQS
		has_government = democratic
		has_war = no
		OR = {
			has_idea = SOL_daybreaker_curse1 
			has_idea = SOL_daybreaker_curse2 
			has_idea = SOL_daybreaker_curse3 
		}
		NOT = {
			has_idea = eqs_media_control
			has_idea = eqs_war_law_extreme
			has_idea = eqs_war_admin_extreme
			has_idea = eqs_order_idea
		}
	}
	mean_time_to_happen = {
		days = 180
	}
	fire_only_once = yes
	option = {
		name = paxsolaris.107.a
		country_event = { id = paxsolaris.108 }
	}
}
country_event = { #Remove curse
	id = paxsolaris.108
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.108"}
	title = paxsolaris.108.t
	desc = paxsolaris.108.d
	picture = GFX_the_sun
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.108.a
		remove_ideas = SOL_daybreaker_curse1 
		remove_ideas = SOL_daybreaker_curse2 
		remove_ideas = SOL_daybreaker_curse3 
	}
}

country_event = { #Worried - NLR
	id = paxsolaris.109
	title = paxsolaris.109.t
	desc = paxsolaris.109.d
	picture = GFX_event_celestia
	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 9 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_war_with = NLR
	}
	fire_only_once = yes
	option = {
		name = paxsolaris.109.a
		set_country_flag = { flag = celestia_civilwar_events value = 1 }
	}
}
country_event = { #Overwhelmed - NLR
	id = paxsolaris.110
	title = paxsolaris.110.t
	desc = paxsolaris.110.d
	picture = GFX_event_civil_war_eqs
	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 25 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_country_flag = { flag = celestia_civilwar_events value > 0 }
		has_war_with = NLR
	}

	fire_only_once = yes
	option = { 
		name = paxsolaris.110.a
		set_country_flag = { flag = celestia_civilwar_events value = 2 }
	}
}
country_event = { #Vengeful - NLR
	id = paxsolaris.111
	title = paxsolaris.111.t
	desc = paxsolaris.111.d
	picture = GFX_event_burning_forest
	trigger = {
		tag = EQS
		has_government = democratic
		has_country_flag = { flag = celestia_evil_meter value > 39 }
		has_country_leader = { ruling_only = yes name = "Princess Celestia" }
		has_country_flag = { flag = celestia_civilwar_events value > 1 }
		has_war_with = NLR
	}
	fire_only_once = yes
	option = { 
		name = paxsolaris.111.a
		set_country_flag = { flag = celestia_civilwar_events value = 3 }
	}
}
country_event = {
	id = paxsolaris.112
	is_triggered_only = yes
	hidden = yes
	option = {
		random_list = { 
			1 = {
				modifier = {
					factor = 2
					check_variable = { sol_dialogue_twilight_correct_num > 1 }
				}
				add_ideas = sol_sunrise_sparkle
				hidden_effect = { country_event = { id = paxsolaris.65 days = 17 } }
				set_country_flag = SOL_twilight_ascended
			}
			1 = {
				modifier = {
					factor = 0 
					check_variable = { sol_dialogue_twilight_correct_num > 2 }
				}
				add_ideas = sol_sunrise_sparkle_dulled
				hidden_effect = { country_event = { id = paxsolaris.65 days = 17 } }
				set_country_flag = SOL_twilight_ascended
			}
		}
	}
}
country_event = { #Luna is concerned
	id = paxsolaris.113
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.113"}
	title = paxsolaris.113.t
	desc = {
		text = paxsolaris.113.d_luna
		trigger = {
			has_idea = alicorn_sisters
		}
	}
	desc = {
		text = paxsolaris.113.d_nobles
		trigger = {
			NOT = { has_idea = alicorn_sisters }
		}
	}
	picture = GFX_event_celestia_theme
	is_triggered_only = yes
	fire_only_once = yes
	option = { #Back down
		name = paxsolaris.113.a
		hidden_effect = {
			modify_country_flag = { flag = celestia_evil_meter value = -4 }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_global_flag = EQS_evil_celestia
			}
		}
	}
	option = { #Press
		name = paxsolaris.113.b
		hidden_effect = {
			add_popularity = { ideology = fascism popularity = 0.07 }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = { is_historical_focus_on = yes has_global_flag = EQS_nice_celestia }
			}
			modifier = {
				factor = 1000
				has_global_flag = EQS_evil_celestia
			}
		}
	}
}
country_event = {
	id = paxsolaris.114 
	title = paxsolaris.114.t
	desc = paxsolaris.114.d
	picture = GFX_event_solarempire
	trigger = {
		is_SOLAR_EMPIRE = yes
		if = {
			limit = { has_country_flag = sol_JUN_owns_16 }
			16 = { NOT = { is_controlled_by = JUN } }
		}
	}
	mean_time_to_happen = {
		days = 20
	}
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.114"
		clr_country_flag = sol_JUN_owns_16
	}
	option = {
		name = paxsolaris.114.a
		custom_effect_tooltip = paxsolaris_114_tt
		hidden_effect = {
			JUN = {
				if = {
					limit = { has_character = JUN_sweet_water }
					JUN_sweet_water = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = JUN_tailcoatl }
					JUN_tailcoatl = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = JUN_ruby_bolt }
					JUN_ruby_bolt = {
						if = {
							limit = { 
								is_character_slot = high_command 
							}
							remove_advisor_role = { slot = high_command }
							add_advisor_role = {
								advisor = {
									slot = high_command
									idea_token = emerald_bolt
									ledger = army
									cost = 100
									traits = {
										army_infantry_2
									}
									ai_will_do = {
										factor = 1
									}
								}
							}
						}
						set_nationality = EQS 
					}
				}
				if = {
					limit = { has_character = JUN_velvet_glow }
					JUN_velvet_glow = {
						if = {
							limit = { 
								is_character_slot = political_advisor
							}
							remove_advisor_role = { slot = political_advisor }
							add_advisor_role = {
								advisor = {
									slot = theorist
									idea_token = velvet
									traits = {
										bookworm
									}
								}
							}
						}
						set_nationality = EQS 
					}
				}
			}
		}
	}
}
country_event = { 
	id = paxsolaris.117 
	title = paxsolaris.117.t
	desc = paxsolaris.117.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	major = no
	fire_only_once = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.117" 
		hidden_effect = {
			set_country_flag = resistance_deescalation
			random_country = {
				limit = { 
					resistance_deescalation_trigger = yes
				}
				save_global_event_target_as = sol_resistance_enemy
			}
			add_to_variable = { var = solar_civilian_measures value = 2 }
			add_to_variable = { var = solar_military_measures value = 2 }
			
		}
	}
	option = { 
		name = paxsolaris.117.a
		custom_effect_tooltip = paxsolaris_117_tt
	}
}
country_event = { 
	id = paxsolaris.118
	title = paxsolaris.118.t
	desc = paxsolaris.118.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.118" 
		hidden_effect = {
			clr_country_flag = resistance_deescalation
			add_to_variable = { var = solar_civilian_measures value = -2 }
			add_to_variable = { var = solar_military_measures value = -2 }
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
	option = { 
		name = paxsolaris.118.a
	}
}
country_event = { 
	id = paxsolaris.119
	title = paxsolaris.119.t
	desc = {
		trigger = {
			has_country_flag = sol_successful_purge
		}
		text = paxsolaris.119.d_yes
	}
	desc = {
		trigger = {
			NOT = { has_country_flag = sol_successful_purge }
		}
		text = paxsolaris.119.d_no
	}
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.119" }
	option = { 
		name = paxsolaris.119.a
		trigger = {
			has_country_flag = sol_successful_purge
		}
		custom_effect_tooltip = paxsolaris_military_consolidation_level_increase
		add_to_variable = { var = solar_military_measures value = 1 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			set_country_flag = SOL_purge_finished
			every_country = {
				limit = {
					OR = {
						tag = EQS
						tag = EQR
						tag = NLR
						tag = NLH
						tag = HRM
						tag = ACC
						tag = ARL
						tag = SHF
						tag = LPA
					}
				}
				if = {
					limit = { has_character = EQS_evening_squall }
					retire_character = EQS_evening_squall
				}
				if = {
					limit = { has_character = EQS_dust_hoover }
					retire_character = EQS_dust_hoover
				}
				if = {
					limit = { has_character = EQS_cocopomell }
					retire_character = EQS_cocopomell
				}
				if = {
					limit = { has_character = EQS_fancy_pants }
					retire_character = EQS_fancy_pants
				}
				if = {
					limit = { has_character = EQS_rockhoof }
					retire_character = EQS_rockhoof
				}
			}
		}
	}
	option = { 
		name = paxsolaris.119.b
		trigger = {
			NOT = { has_country_flag = sol_successful_purge }
		}
		custom_effect_tooltip = paxsolaris_military_consolidation_level_decrease
		add_to_variable = { var = solar_military_measures value = -1 }
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}

#HARMONIST DEMANDS
country_event = {
	id = paxsolaris.120
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.120"}
	title = paxsolaris.120.t
	desc = paxsolaris.120.d
	picture = GFX_event_demand_the_vote
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.120.a
		ai_chance = { 
			factor = 1
		}
		add_to_variable = { var = daybreaker_support value = 5 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		if = { 
			limit = { has_idea = eqs_war_law_extreme }
			remove_ideas = eqs_war_law_extreme
		}
		if = { 
			limit = { has_idea = eqs_war_admin_extreme }
			remove_ideas = eqs_war_admin_extreme
		}
		if = { 
			limit = { has_idea = eqs_war_law }
			remove_ideas = eqs_war_law
		}
		if = { 
			limit = { has_idea = eqs_war_admin }
			remove_ideas = eqs_war_admin
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		name = paxsolaris.120.b
		trigger = {
			OR = {
				has_idea = eqs_war_law_extreme
				has_idea = eqs_war_admin_extreme
			}
		}
		ai_chance = { 
			factor = 0
		}
		if = { 
			limit = { has_idea = eqs_war_law_extreme } 
			swap_ideas = {
				remove_idea = eqs_war_law_extreme
				add_idea = eqs_war_law
			}
		}
		if = { 
			limit = { has_idea = eqs_war_admin_extreme } 
			swap_ideas = {
				remove_idea = eqs_war_admin_extreme 
				add_idea = eqs_war_admin
			}
		}	
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		name = paxsolaris.120.c
		ai_chance = { 
			factor = 0
		}
		if = {
			limit = { 
				OR = {
					has_idea = eqs_war_law_extreme
					has_idea = eqs_war_admin_extreme
				}
			}
			add_to_variable = { var = daybreaker_support value = -5 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_5
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
}

country_event = {
	id = paxsolaris.121
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.121"}
	title = paxsolaris.121.t
	desc = paxsolaris.121.d
	picture = GFX_event_demand_the_vote
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.121.a
		ai_chance = { 
			factor = 0
		}
		add_to_variable = { var = daybreaker_support value = 5 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		custom_effect_tooltip = sol_conscription_loyalty_change_tt
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		else_if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = volunteer_only
			}
		}
		else_if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = volunteer_only
			}
		}
		else_if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = volunteer_only
			}
		}
		else_if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = volunteer_only
			}
		}
		hidden_effect = { 
			set_country_flag = sol_conscription_loyalty_change
			SOL_calculate_loyalty = yes
		}
	}
	option = {
		name = paxsolaris.121.b
		trigger = {
			OR = {
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
		}
		ai_chance = { 
			factor = 1
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		else_if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = limited_conscription
			}
		}
		else_if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = limited_conscription
			}
		}
		else_if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = limited_conscription
			}
		}
		hidden_effect = { 
			SOL_calculate_loyalty = yes
		}
	}
	option = {
		name = paxsolaris.121.c
		ai_chance = { 
			factor = 0.5
		}
		if = {
			limit = {
				OR = {
					has_idea = extensive_conscription
					has_idea = service_by_requirement
					has_idea = all_adults_serve
					has_idea = scraping_the_barrel
				}	
			}
			add_to_variable = { var = daybreaker_support value = -5 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_5
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
}

country_event = {
	id = paxsolaris.122
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.122"}
	title = paxsolaris.122.t
	desc = paxsolaris.122.d
	picture = GFX_event_demand_the_vote
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.122.a
		ai_chance = { 
			factor = 1
		}
		add_to_variable = { var = daybreaker_support value = 5 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		if = {
			limit = { has_idea = eqs_media_control }
			remove_ideas = eqs_media_control
		}
		if = {
			limit = { has_idea = SOL_a_plan_for_equestria }
			remove_ideas = SOL_a_plan_for_equestria
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		name = paxsolaris.122.b
		trigger = {
			has_idea = eqs_media_control
		}
		ai_chance = { 
			factor = 0.5
		}
		remove_ideas = eqs_media_control
		add_popularity = {
			ideology = democratic
			popularity = 0.03
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		name = paxsolaris.122.c
		ai_chance = { 
			factor = 0
		}
		if = {
			limit = {
				has_idea = eqs_media_control
			}
			add_to_variable = { var = daybreaker_support value = -5 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_5
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
}
country_event = {
	id = paxsolaris.123
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.123"}
	title = paxsolaris.123.t
	desc = paxsolaris.123.d
	picture = GFX_event_demand_the_vote
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.123.a
		ai_chance = { 
			factor = 0
		}
		add_to_variable = { var = daybreaker_support value = 5 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		custom_effect_tooltip = sol_economy_loyalty_change_tt
		if = {
			limit = {
				OR = {
					has_idea = low_economic_mobilisation
					has_idea = partial_economic_mobilisation
					has_idea = war_economy
					has_idea = tot_economic_mobilisation 
				}
			}
			add_ideas = civilian_economy
		}
		if = {
			limit = { has_idea = SOL_everything_for_equestria_idea }
			remove_ideas = SOL_everything_for_equestria_idea
		}
		if = {
			limit = { has_idea = SOL_everything_for_equestria_idea2 }
			remove_ideas = SOL_everything_for_equestria_idea2
		}
		if = {
			limit = { has_idea = SOL_everything_for_equestria_idea3 }
			remove_ideas = SOL_everything_for_equestria_idea3
		}
		hidden_effect = {
			if = {
				limit = { NOT = { has_completed_focus = SOL_everything_for_equestria } }
				unlock_national_focus = SOL_everything_for_equestria
			}
			if = {
				limit = { NOT = { has_completed_focus = SOL_steel_and_fire } }
				unlock_national_focus = SOL_steel_and_fire
			}
			if = {
				limit = { NOT = { has_completed_focus = SOL_burn_the_rot } }
				unlock_national_focus = SOL_burn_the_rot
			}
		}
		hidden_effect = {
			set_country_flag = sol_economy_loyalty_change
			SOL_calculate_loyalty = yes 
		}
	}
	option = {
		name = paxsolaris.123.b
		trigger = {
			OR = {
				has_idea = partial_economic_mobilisation
				has_idea = war_economy
				has_idea = tot_economic_mobilisation 
				has_idea = SOL_everything_for_equestria_idea3
				has_idea = SOL_everything_for_equestria_idea2
				has_idea = SOL_everything_for_equestria_idea
			}
		}
		ai_chance = { 
			factor = 0.5
		}
		if = {
			limit = {
				OR = {
					has_idea = partial_economic_mobilisation
					has_idea = war_economy
					has_idea = tot_economic_mobilisation 
				}
			}
			add_ideas = low_economic_mobilisation
		}
		if = {
			limit = { has_idea = SOL_everything_for_equestria_idea }
			swap_ideas = {
				remove_idea = SOL_everything_for_equestria_idea
				add_idea = SOL_everything_for_equestria_idea4
			}
		}
		if = {
			limit = { has_idea = SOL_everything_for_equestria_idea2 }
			swap_ideas = {
				remove_idea = SOL_everything_for_equestria_idea2
				add_idea = SOL_everything_for_equestria_idea4
			}
		}
		if = {
			limit = { has_idea = SOL_everything_for_equestria_idea3 }
			swap_ideas = {
				remove_idea = SOL_everything_for_equestria_idea3
				add_idea = SOL_everything_for_equestria_idea4
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { has_completed_focus = SOL_everything_for_equestria } }
				unlock_national_focus = SOL_everything_for_equestria
			}
			if = {
				limit = { NOT = { has_completed_focus = SOL_steel_and_fire } }
				unlock_national_focus = SOL_steel_and_fire
			}
			if = {
				limit = { NOT = { has_completed_focus = SOL_burn_the_rot } }
				unlock_national_focus = SOL_burn_the_rot
			}
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		name = paxsolaris.123.c
		ai_chance = { 
			factor = 1
		}
		if = {
			limit = {
				OR = {
					has_idea = partial_economic_mobilisation
					has_idea = war_economy
					has_idea = tot_economic_mobilisation 
					has_idea = SOL_everything_for_equestria_idea3
					has_idea = SOL_everything_for_equestria_idea2
					has_idea = SOL_everything_for_equestria_idea
				}
			}
			add_to_variable = { var = daybreaker_support value = -5 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_5
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
}
country_event = {
	id = paxsolaris.124
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.124"}
	title = paxsolaris.124.t
	desc = paxsolaris.124.d
	picture = GFX_event_demand_the_vote
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.124.a
		ai_chance = { 
			factor = 0.5
		}
		add_to_variable = { var = daybreaker_support value = 5 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		custom_effect_tooltip = sol_trade_loyalty_change_tt
		add_ideas = export_focus
		hidden_effect = {
			set_country_flag = sol_trade_loyalty_change
			SOL_calculate_loyalty = yes 
		}
	}
	option = {
		name = paxsolaris.124.b
		trigger = {
			has_idea = closed_economy
		}
		ai_chance = { 
			factor = 1
		}
		add_ideas = limited_exports
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	option = {
		name = paxsolaris.124.c
		ai_chance = { 
			factor = 0
		}
		if = {
			limit = {
				has_idea = closed_economy
			}
			add_to_variable = { var = daybreaker_support value = -5 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_5
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
	}
}
country_event = {
	id = paxsolaris.125
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.125"}
	title = paxsolaris.125.t
	desc = paxsolaris.125.d
	picture = GFX_event_demand_the_vote
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = paxsolaris.125.a
		ai_chance = { 
			factor = 0
		}
		add_to_variable = { var = daybreaker_support value = 5 }
		custom_effect_tooltip = paxsolaris_loyalty_increase_5
		if = {
			limit = { has_idea = eqs_order_idea }
			swap_ideas = { 
				remove_idea = eqs_order_idea
				add_idea = friendly_harmony_SOL
			}
		}
		else = {
			add_ideas = friendly_harmony_SOL
		}
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			set_country_flag = demands_over
		}
	}
	option = {
		name = paxsolaris.125.b
		trigger = {
			has_idea = eqs_order_idea
		}
		ai_chance = { 
			factor = 1
		}
		remove_ideas = eqs_order_idea
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			set_country_flag = demands_over
		}
	}
	option = {
		name = paxsolaris.125.c
		ai_chance = { 
			factor = 0
		}
		if = {
			limit = {
				has_idea = eqs_order_idea
			}
			add_to_variable = { var = daybreaker_support value = -5 }
			custom_effect_tooltip = paxsolaris_loyalty_decrease_5
			hidden_effect = { SOL_calculate_loyalty = yes }
		}
		hidden_effect = { set_country_flag = demands_over }
	}
}
country_event = { #Generic War Justification Event (Daybreaker will wipe you the fuck out with precision the likes of which have never been seen before on this earth)
	id = paxsolaris.132
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.132"}
	title = paxsolaris.132.t
	desc = paxsolaris.132.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = {
		name = paxsolaris.132.a
	}
}
country_event = { 
	id = paxsolaris.133
	title = paxsolaris.133.t
	desc = paxsolaris.133.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.133" }
	option = { 
		name = paxsolaris.133.a
		ai_chance = {
			factor = 1
			modifier = {
				add = 100
				tag = JUN
			}
			modifier = {
				factor = 3
				strength_ratio = {
				    tag = EQS
				    ratio < 0.6
				}
			}

		}
		custom_effect_tooltip = GAME_OVER_TT
		EQS = {
			annex_country = { target = ROOT }
			country_event = { id = paxsolaris.134 days = 2 }
		}
	}
	option = { 
		name = paxsolaris.133.b
		trigger = {
			NOT = { is_subject_of = EQS }
		}
		ai_chance = {
			factor = 3
			modifier = {
				factor = 3
				strength_ratio = {
				    tag = EQS
				    ratio > 0.8
				}
			}
			modifier = {
				add = 100
				tag = NMS
			}
		}
		custom_effect_tooltip = paxsolaris_130_tt
		if = {
			limit = { is_in_faction_with = EQS }
			leave_faction = yes
		}
		reverse_add_opinion_modifier = { target = EQS modifier = cry_betrayal }
		EQS = {
			country_event = { id = paxsolaris.135 days = 2 }
		}
		hidden_effect = {
			every_state = {
				limit = { is_controlled_by = ROOT }		
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { is_in_array = { ROOT.EQS_border_states = THIS } }
					}
					add_to_array = { ROOT.EQS_border_states = THIS }
				}
			}
			every_state = {
				limit = { is_controlled_by = ROOT }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = ROOT.EQS_border_states
				}	
			}
		}
	}
}
country_event = {
	id = paxsolaris.134
	title = paxsolaris.134.t
	desc = paxsolaris.134.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.134"
	}
	option = { 
		name = paxsolaris.134.a
	}
}
country_event = {
	id = paxsolaris.135
	title = paxsolaris.135.t
	desc = paxsolaris.135.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	fire_only_once = no
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.135"
	}
	option = { 
		name = paxsolaris.135.a
	}
}
country_event = {
	id = paxsolaris.136
	title = paxsolaris.136.t
	desc = paxsolaris.136.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.136" }
	option = { 
		name = paxsolaris.136.a
		add_field_marshal_role = {
			character = EQS_princess_celestia
			traits = { supernova pony_race_trait }
			skill = 7
			attack_skill = 7
			defense_skill = 5
			planning_skill = 5
			logistics_skill = 5
		} 
		custom_effect_tooltip = daybreaker_stats_tp
	}
}
country_event = {
	id = paxsolaris.137
	title = paxsolaris.137.t
	desc = paxsolaris.137.d
	picture = GFX_event_solarempire
	trigger = {
		tag = EQS
		EQS_princess_celestia = {
			is_unit_leader = yes
			has_character_flag = EQS_celestia_is_db 
		}
		check_variable = { surrender_progress < 0.1 }
	}
	fire_only_once = yes
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.137"
		hidden_effect = {
			EQS_princess_celestia = {
				remove_unit_leader_role = yes
			}
		}
	}
	option = {
		name = paxsolaris.137.a
		effect_tooltip = { 
			EQS_princess_celestia = {
				remove_unit_leader_role = yes
			}
		}
	}
}
country_event = { 
	id = paxsolaris.138
	title = paxsolaris.138.t
	desc = paxsolaris.138.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.138" 
		hidden_effect = {
			add_ideas = SOL_worker_strikes
			set_country_flag = sol_strikes_happened
		}
	}
	option = { 
		name = paxsolaris.138.a
		effect_tooltip = { add_ideas = SOL_worker_strikes }
	}
}
country_event = { 
	id = paxsolaris.139
	title = paxsolaris.139.t
	desc = paxsolaris.139.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.139" }
	option = { 
		name = paxsolaris.139.a
		hidden_effect = { country_event = paxsolaris.140 }
	}
}
country_event = { 
	id = paxsolaris.140
	title = paxsolaris.140.t
	desc = paxsolaris.140.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.140" }
	option = { 
		name = paxsolaris.140.a
		hidden_effect = { country_event = paxsolaris.141 }
	}
}
country_event = { 
	id = paxsolaris.141
	title = paxsolaris.141.t
	desc = paxsolaris.141.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.141" }
	option = { 
		name = paxsolaris.141.a
	}
}
country_event = { 
	id = paxsolaris.142
	title = paxsolaris.142.t
	desc = paxsolaris.142.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.142" }
	option = { 
		name = paxsolaris.142.a
	}
}
country_event = { 
	id = paxsolaris.143
	title = paxsolaris.143.t
	desc = paxsolaris.143.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.143" }
	option = { 
		name = paxsolaris.143.a
		hidden_effect = { country_event = paxsolaris.144 }
	}
}
country_event = { 
	id = paxsolaris.144
	title = paxsolaris.144.t
	desc = paxsolaris.144.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.144" }
	option = { 
		name = paxsolaris.144.a
	}
}
country_event = { 
	id = paxsolaris.145
	title = paxsolaris.145.t
	desc = paxsolaris.145.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.145" }
	option = { 
		name = paxsolaris.145.a
		custom_effect_tooltip = paxsolaris_loyalty_increase_3
		hidden_effect = {
			add_to_variable = { var = daybreaker_support value = 3 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.145.b
		custom_effect_tooltip = paxsolaris_resistance_suppression_increase
		hidden_effect = {
			add_to_variable = { var = solar_resistance_suppression_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
}
country_event = { 
	id = paxsolaris.146
	title = paxsolaris.146.t
	desc = paxsolaris.146.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.146" }
	option = { 
		name = paxsolaris.146.a
		custom_effect_tooltip = paxsolaris_loyalty_increase_3
		hidden_effect = {
			add_to_variable = { var = daybreaker_support value = 3 }
			SOL_calculate_loyalty = yes
		}
	}
	option = { 
		name = paxsolaris.146.b
		custom_effect_tooltip = paxsolaris_government_consolidation_increase
		hidden_effect = {
			add_to_variable = { var = solar_civilian_measures_progress value = 1 }
			SOL_calculate_loyalty = yes
		}
	}
}
country_event = { 
	id = paxsolaris.147
	title = paxsolaris.147.t
	desc = paxsolaris.147.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.147" }
	option = { 
		name = paxsolaris.147.a
	}
}
country_event = {
	id = paxsolaris.148
	title = paxsolaris.148.t
	desc = paxsolaris.148.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.148" }
	option = {
		name = paxsolaris.148.a
		custom_effect_tooltip = SOL_integrate_changelings_bonus
		set_country_flag = solar_changeling_branch_enabled
		hidden_effect = { country_event = { id = paxsolaris.149 days = 3 } }
	}
	option = {
		name = paxsolaris.148.b
		custom_effect_tooltip = sol_all_occupied_CHN
		custom_effect_tooltip = SOL_resettlement_effect_tt
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 316
						state = 319
						state = 247
						state = 246
						state = 291
					}
				}
				SOL_resettlement_effect = yes
			}
		}
		hidden_effect = { country_event = { id = paxsolaris.150 days = 3 } }
	}
	option = {
		name = paxsolaris.148.c
		custom_effect_tooltip = sol_all_occupied_CHN
		custom_effect_tooltip = SOL_genocide_effect_tt
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 316
						state = 319
						state = 247
						state = 246
						state = 291
					}
				}
				SOL_genocide_effect = yes
			}
		}
		hidden_effect = { country_event = { id = paxsolaris.151 days = 3 } }
	}
}
country_event = { 
	id = paxsolaris.149
	title = paxsolaris.149.t
	desc = paxsolaris.149.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.149" }
	option = { 
		name = paxsolaris.149.a
	}
}
country_event = { 
	id = paxsolaris.150
	title = paxsolaris.150.t
	desc = paxsolaris.150.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.150" }
	option = { 
		name = paxsolaris.150.a
	}
}
country_event = { 
	id = paxsolaris.151
	title = paxsolaris.151.t
	desc = paxsolaris.151.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.151" }
	option = { 
		name = paxsolaris.151.a
	}
}
country_event = { 
	id = paxsolaris.152
	title = paxsolaris.152.t
	desc = paxsolaris.152.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.152" }
	option = { 
		name = paxsolaris.152.a
		hidden_effect = { country_event = paxsolaris.153 }
	}
}
country_event = { 
	id = paxsolaris.153
	title = paxsolaris.152.t
	desc = paxsolaris.153.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.153" }
	option = { 
		name = paxsolaris.153.a
		hidden_effect = { country_event = paxsolaris.154 }
	}
}
country_event = { 
	id = paxsolaris.154
	title = paxsolaris.152.t
	desc = paxsolaris.154.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.154" }
	option = { 
		name = paxsolaris.154.a
		hidden_effect = { country_event = paxsolaris.155 }
	}
}
country_event = { 
	id = paxsolaris.155
	title = paxsolaris.152.t
	desc = paxsolaris.155.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.155" }
	option = { 
		name = paxsolaris.155.a
		hidden_effect = { country_event = paxsolaris.156 }
	}
}
country_event = { 
	id = paxsolaris.156
	title = paxsolaris.152.t
	desc = paxsolaris.156.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.156" }
	option = { 
		name = paxsolaris.156.a
		251 = {
			set_state_category = metropolis
			add_manpower = -1530000
		}
	}
}
country_event = { 
	id = paxsolaris.157
	title = paxsolaris.157.t
	desc = paxsolaris.157.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.157" }
	option = { 
		name = paxsolaris.157.a
		custom_effect_tooltip = sol_all_occupied_CHN
		custom_effect_tooltip = SOL_queen_oripia_add_tt
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 316
						state = 319
						state = 247
						state = 246
						state = 291
					}
				}
				add_dynamic_modifier = { modifier = SOL_queen_orapia }
			}
		}
	}
}
country_event = { 
	id = paxsolaris.158
	title = paxsolaris.158.t
	desc = paxsolaris.158.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.158" }
	option = { 
		name = paxsolaris.158.a
	}
}
country_event = { 
	id = paxsolaris.159
	title = paxsolaris.159.t
	desc = paxsolaris.159.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.159" }
	option = { 
		name = paxsolaris.159.a
	}
}
country_event = { 
	id = paxsolaris.160
	title = paxsolaris.160.t
	desc = paxsolaris.160.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.160" }
	option = { 
		name = paxsolaris.160.a
	}
}
country_event = { 
	id = paxsolaris.161
	title = paxsolaris.161.t
	desc = paxsolaris.161.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.161" }
	option = { 
		name = paxsolaris.161.a
	}
}
country_event = { 
	id = paxsolaris.162
	title = paxsolaris.162.t
	desc = paxsolaris.162.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.162" }
	option = { 
		name = paxsolaris.162.a
	}
}
country_event = { 
	id = paxsolaris.163
	title = paxsolaris.163.t
	desc = paxsolaris.163.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.163" }
	option = { 
		name = paxsolaris.163.a
	}
}
country_event = { 
	id = paxsolaris.164
	title = paxsolaris.164.t
	desc = paxsolaris.164.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.164" }
	option = { 
		name = paxsolaris.164.a
	}
}
country_event = { 
	id = paxsolaris.165
	title = paxsolaris.165.t
	desc = paxsolaris.165.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.165" }
	option = { 
		name = paxsolaris.165.a
	}
}
country_event = { 
	id = paxsolaris.166
	title = paxsolaris.166.t
	desc = paxsolaris.166.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.166" }
	option = { 
		name = paxsolaris.166.a
	}
}
country_event = { 
	id = paxsolaris.167
	title = paxsolaris.167.t
	desc = paxsolaris.167.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.167" }
	option = { 
		name = paxsolaris.167.a
	}
}
country_event = { 
	id = paxsolaris.168
	title = paxsolaris.168.t
	desc = paxsolaris.168.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.168" }
	option = { 
		name = paxsolaris.168.a
	}
}
country_event = { 
	id = paxsolaris.169
	title = paxsolaris.169.t
	desc = paxsolaris.169.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.169" }
	option = { 
		name = paxsolaris.169.a
	}
}
country_event = { 
	id = paxsolaris.170
	title = paxsolaris.170.t
	desc = paxsolaris.170.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.170" }
	option = { 
		name = paxsolaris.170.a
	}
}
country_event = { 
	id = paxsolaris.171
	title = paxsolaris.171.t
	desc = paxsolaris.171.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.171" }
	option = { 
		name = paxsolaris.171.a
	}
}
country_event = { 
	id = paxsolaris.172
	title = paxsolaris.172.t
	desc = paxsolaris.172.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.172" }
	option = { 
		name = paxsolaris.172.a
	}
}
country_event = { 
	id = paxsolaris.173
	title = paxsolaris.173.t
	desc = paxsolaris.173.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.173" }
	option = { 
		name = paxsolaris.173.a
	}
}
country_event = { 
	id = paxsolaris.174
	title = paxsolaris.174.t
	desc = paxsolaris.174.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.174" }
	option = { 
		name = paxsolaris.174.a
		custom_effect_tooltip = SOL_no_organised_activity
		country_event = {
			id = paxsolaris.175
		}
	}
}
country_event = { 
	id = paxsolaris.175
	title = paxsolaris.175.t
	desc = paxsolaris.175.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.175" }
	option = { 
		name = paxsolaris.175.a
	}
}
country_event = { 
	id = paxsolaris.176
	title = paxsolaris.176.t
	desc = paxsolaris.176.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.176" }
	option = { 
		name = paxsolaris.176.a
	}
}
country_event = { 
	id = paxsolaris.177
	title = paxsolaris.177.t
	desc = paxsolaris.177.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.177" }
	option = { 
		name = paxsolaris.177.a
	}
}
country_event = { 
	id = paxsolaris.178
	title = paxsolaris.178.t
	desc = paxsolaris.178.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.178" }
	option = { 
		name = paxsolaris.178.a
	}
}
country_event = { 
	id = paxsolaris.179
	title = paxsolaris.179.t
	desc = {
		text = paxsolaris.179.d_civ
		trigger = { has_country_flag = sol_empowered_royal_guard }
	}
	desc = {
		text = paxsolaris.179.d_inq
		trigger = { NOT = { has_country_flag = sol_empowered_royal_guard } }
	}
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.179" }
	option = { 
		name = paxsolaris.179.a
		custom_effect_tooltip = sparking_flame_stats_tp
		set_country_flag = sol_unlocked_sparking_flame
	}
}
country_event = { 
	id = paxsolaris.180
	title = paxsolaris.180.t
	desc = paxsolaris.180.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.180" }
	option = { 
		name = paxsolaris.180.a
	}
}
country_event = { 
	id = paxsolaris.181
	title = paxsolaris.181.t
	desc = paxsolaris.181.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.181" }
	option = { 
		name = paxsolaris.181.a
	}
}
country_event = { 
	id = paxsolaris.182
	title = paxsolaris.182.t
	desc = paxsolaris.182.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.182" }
	option = { 
		name = paxsolaris.182.a
	}
}
country_event = { 
	id = paxsolaris.183
	title = paxsolaris.183.t
	desc = paxsolaris.183.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.183" }
	option = { 
		name = paxsolaris.183.a
	}
}
country_event = { 
	id = paxsolaris.184
	title = paxsolaris.184.t
	desc = paxsolaris.184.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.184" }
	option = { 
		name = paxsolaris.184.a
	}
}
country_event = { 
	id = paxsolaris.185
	title = paxsolaris.185.t
	desc = paxsolaris.185.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.185" }
	option = { 
		name = paxsolaris.185.a
	}
}
country_event = { 
	id = paxsolaris.186
	title = paxsolaris.186.t
	desc = paxsolaris.186.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.186" }
	option = { 
		name = paxsolaris.186.a
	}
}
country_event = { 
	id = paxsolaris.187
	title = paxsolaris.187.t
	desc = paxsolaris.187.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.187" }
	option = { 
		name = paxsolaris.187.a
	}
}
country_event = { 
	id = paxsolaris.188
	title = paxsolaris.188.t
	desc = paxsolaris.188.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.188" }
	option = { 
		name = paxsolaris.188.a
	}
}
country_event = { 
	id = paxsolaris.189
	title = paxsolaris.189.t
	desc = paxsolaris.189.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.189" }
	option = { 
		name = paxsolaris.189.a
	}
}
country_event = { 
	id = paxsolaris.190
	title = paxsolaris.190.t
	desc = paxsolaris.190.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.190" }
	option = { 
		name = paxsolaris.190.a
	}
}
country_event = { 
	id = paxsolaris.191
	title = paxsolaris.191.t
	desc = paxsolaris.191.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.191" }
	option = { 
		name = paxsolaris.191.a
	}
}
country_event = { 
	id = paxsolaris.192
	title = paxsolaris.192.t
	desc = paxsolaris.192.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.192" }
	option = { 
		name = paxsolaris.192.a
	}
}
country_event = { 
	id = paxsolaris.193
	title = paxsolaris.193.t
	desc = paxsolaris.193.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.193" }
	option = { 
		name = paxsolaris.193.a
	}
}
country_event = { 
	id = paxsolaris.194
	title = paxsolaris.194.t
	desc = paxsolaris.194.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.194" }
	option = { 
		name = paxsolaris.194.a
	}
}
country_event = { 
	id = paxsolaris.195
	title = paxsolaris.195.t
	desc = paxsolaris.195.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.195" }
	option = { 
		name = paxsolaris.195.a
	}
}
country_event = { 
	id = paxsolaris.196
	title = paxsolaris.196.t
	desc = paxsolaris.196.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.196" }
	option = { 
		name = paxsolaris.196.a
	}
}
country_event = { 
	id = paxsolaris.197
	title = paxsolaris.197.t
	desc = paxsolaris.197.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.197" }
	option = { 
		name = paxsolaris.197.a
	}
}
country_event = { 
	id = paxsolaris.198
	title = paxsolaris.198.t
	desc = paxsolaris.198.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.198" }
	option = { 
		name = paxsolaris.198.a
	}
}
country_event = { 
	id = paxsolaris.199
	title = paxsolaris.199.t
	desc = paxsolaris.199.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.199" }
	option = { 
		name = paxsolaris.199.a
	}
}
country_event = { 
	id = paxsolaris.200
	title = paxsolaris.200.t
	desc = paxsolaris.200.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.200" }
	option = { 
		name = paxsolaris.200.a
		country_event = {
			id = paxsolaris.201
		}
	}
}
country_event = { 
	id = paxsolaris.201
	title = paxsolaris.201.t
	desc = paxsolaris.201.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.201" }
	option = { 
		name = paxsolaris.201.a
		country_event = {
			id = paxsolaris.202
			days = 5
		}
	}
}
country_event = { 
	id = paxsolaris.202
	title = paxsolaris.202.t
	desc = paxsolaris.202.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.202" }
	option = { 
		name = paxsolaris.202.a
		country_event = {
			id = paxsolaris.203
			days = 5
		}
	}
}
country_event = { 
	id = paxsolaris.203
	title = paxsolaris.203.t
	desc = paxsolaris.203.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.203" }
	option = { 
		name = paxsolaris.203.a
		country_event = {
			id = paxsolaris.204
		}
	}
}
country_event = { 
	id = paxsolaris.204
	title = paxsolaris.204.t
	desc = paxsolaris.204.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.204" }
	option = { 
		name = paxsolaris.204.a
		country_event = {
			id = paxsolaris.214
		}
	}
}
country_event = { 
	id = paxsolaris.214
	title = paxsolaris.214.t
	desc = paxsolaris.214.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.214" }
	option = { 
		name = paxsolaris.214.a
		country_event = {
			id = paxsolaris.206
			days = 15
		}
	}
}
country_event = { 
	id = paxsolaris.205
	title = paxsolaris.205.t
	desc = paxsolaris.205.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.205" }
	option = { 
		name = paxsolaris.205.a
		country_event = paxsolaris.209
	}
}
country_event = { 
	id = paxsolaris.206
	title = paxsolaris.206.t
	desc = paxsolaris.206.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.206" }
	option = { 
		name = paxsolaris.206.a
		hidden_effect = {
			country_event = {
				id = paxsolaris.207
				days = 35
			}
			country_event = {
				id = paxsolaris.205
				days = 15
			}
		}
	}
}
country_event = { 
	id = paxsolaris.207
	title = paxsolaris.207.t
	desc = paxsolaris.207.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.207" }
	option = { 
		name = paxsolaris.207.a
		country_event = {
			id = paxsolaris.208
		}
	}
}
country_event = { 
	id = paxsolaris.208
	title = paxsolaris.208.t
	desc = paxsolaris.208.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.208" }
	option = { 
		name = paxsolaris.208.a
		country_event = {
			id = paxsolaris.215
		}
	}
}
country_event = { 
	id = paxsolaris.215
	title = paxsolaris.215.t
	desc = paxsolaris.215.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.215" 
		set_variable = { var = SOL_resistance_major_attack_duration value = 20 }
		hidden_effect = {
			activate_mission = SOL_resistance_major_attack_1
		}
	}
	option = { 
		name = paxsolaris.215.a
		ai_chance = {
			factor = 10
		}
		country_event = {
			id = paxsolaris.210
			days = 3
		}
		effect_tooltip = {
			activate_mission = SOL_resistance_major_attack_1
		}
		set_country_flag = SOL_resistance_major_attack_1_civilian
		clr_country_flag = SOL_resistance_major_attack_1_military
	}
	option = { 
		name = paxsolaris.215.b
		ai_chance = {
			factor = 1
		}
		country_event = {
			id = paxsolaris.210
			days = 3
		}
		effect_tooltip = {
			activate_mission = SOL_resistance_major_attack_1
		}
		set_country_flag = SOL_resistance_major_attack_1_military
		clr_country_flag = SOL_resistance_major_attack_1_civilian
	}
}
country_event = { 
	id = paxsolaris.209
	title = paxsolaris.205.t
	desc = paxsolaris.209.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.209" }
	option = { 
		name = paxsolaris.209.a
	}
}
country_event = { 
	id = paxsolaris.210
	title = paxsolaris.210.t
	desc = paxsolaris.210.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.210" 
	}
	option = { 
		name = paxsolaris.210.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = paxsolaris_210_a_tt
		set_country_flag = SOL_resistance_major_attack_1_surrounding_troops
		clr_country_flag = SOL_resistance_major_attack_1_no_surrounding_troops
		set_variable = { var = SOL_resistance_major_attack_duration value = days_mission_timeout@SOL_resistance_major_attack_1 }
		hidden_effect = {
			remove_mission = SOL_resistance_major_attack_1
			activate_mission = SOL_resistance_major_attack_1_surrounding_troops
		}
	}
	option = { 
		name = paxsolaris.210.b
		ai_chance = {
			factor = 10
		}
		set_country_flag = SOL_resistance_major_attack_1_no_surrounding_troops
		clr_country_flag = SOL_resistance_major_attack_1_surrounding_troops
	}
}

country_event = {
	id = paxsolaris.211
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.211" }
	title = paxsolaris.211.t
	desc = paxsolaris.211.d
	picture = GFX_event_canterlot

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = paxsolaris.211.a
		if = {
			limit = {
				has_country_flag = SOL_resistance_major_attack_1_civilian
				has_country_flag = major_attack_1_loss
				NOT = { check_variable = { solar_civilian_support = 0 } }
			}
			custom_effect_tooltip = civilianresistanceaction
			add_to_variable = { var = solar_civilian_resistance_actions value = -1 }
		}
		if = {
			limit = {
				has_country_flag = SOL_resistance_major_attack_1_military
				has_country_flag = major_attack_1_loss
				NOT = { check_variable = { solar_military_support = 0 } }
			}
			custom_effect_tooltip = militaryresistanceaction
			add_to_variable = { var = solar_military_resistance_actions value = -1 }
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}
country_event = { 
	id = paxsolaris.212
	title = paxsolaris.212.t
	desc = paxsolaris.212.d
	picture = GFX_report_event_radar_01
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.212" 
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					SOL_eligible_for_state_events = yes
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
					check_variable = { SOL_public_works_region_id = 1 }
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					SOL_eligible_for_state_events = yes
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
					check_variable = { SOL_public_works_region_id = 1 }
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					SOL_eligible_for_state_events = yes
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
					check_variable = { SOL_public_works_region_id = 1 }
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			if= {
				limit = {
					has_country_flag = SOL_resistance_major_attack_1_surrounding_troops
				}
				random_owned_controlled_state = {
					limit = {
						SOL_eligible_for_state_events = yes
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
						check_variable = { SOL_public_works_region_id = 1 }
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				random_owned_controlled_state = {
					limit = {
						SOL_eligible_for_state_events = yes
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
						check_variable = { SOL_public_works_region_id = 1 }
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				random_owned_controlled_state = {
					limit = {
						SOL_eligible_for_state_events = yes
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
						check_variable = { SOL_public_works_region_id = 1 }
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
			}
		}
	}
	option = { 
		name = paxsolaris.212.a
		custom_effect_tooltip = resistanceoutreachaction
		add_to_variable = {	var = solar_resistance_outreach_actions value = 1 }
		if= {
			limit = {
				has_country_flag = SOL_resistance_major_attack_1_surrounding_troops
			}
			custom_effect_tooltip = paxsolaris_loyalty_decrease_6
			add_to_variable = { var = daybreaker_support value = -6 }
		}
		else = {
			custom_effect_tooltip = paxsolaris_loyalty_decrease_4
			add_to_variable = { var = daybreaker_support value = -4 }
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
}

news_event = {
	id = paxsolaris.213
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.213" }
	title = paxsolaris.213.t
	desc = paxsolaris.213.d
	picture = GFX_news_elf_assault

	is_triggered_only = yes
	major = yes
	fire_only_once = yes

	option = {
		name = paxsolaris.213.a
		trigger = {
			original_tag = EQS
		}
		custom_effect_tooltip = resistanceaction
		custom_effect_tooltip = resistancecohesionaction
		hidden_effect = {
			set_country_flag = harmony_restoration_movement_formed
			add_to_variable = { var = solar_resistance_cohesion_actions value = 1 }
			add_to_variable = { var = solar_resistance_actions value = 1 }
			set_country_flag = cohesion_missions_active
			hidden_effect = { SOL_calculate_loyalty = yes }
			hidden_effect = { 
				country_event = {
					id = paxsolaris.216
					days = 3
				}
				random_list = {
					80 = {
						set_country_flag = sol_inquisition_spies
					}
					20 = {
						clr_country_flag = sol_inquisition_spies
					}
				}
			}
		}
	}
	option = {
		name = paxsolaris.213.b
		trigger = {
			NOT = { original_tag = EQS }
			OR = {
				has_government = democratic
				AND = {
					has_government = communism
					EQS = { NOT = { has_government = communism } }
				}
			}
		}
	}
	option = {
		name = paxsolaris.213.c
		trigger = {
			NOT = { 
				original_tag = EQS
				has_government = democratic
				AND = {
					has_government = communism
					EQS = { has_government = communism }
				}
			}
		}
	}
}
country_event = { 
	id = paxsolaris.216
	title = paxsolaris.216.t
	desc = paxsolaris.216.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.216" }
	option = { 
		name = paxsolaris.216.a
		country_event = {
			id = paxsolaris.217
			days = 1
		}
	}
}
country_event = { 
	id = paxsolaris.217
	title = paxsolaris.217.t
	desc = paxsolaris.217.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.217" }
	option = { 
		name = paxsolaris.217.a
		country_event = {
			id = paxsolaris.218
		}
	}
}
country_event = { 
	id = paxsolaris.218
	title = paxsolaris.218.t
	desc = paxsolaris.218.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.218" }
	option = { 
		name = paxsolaris.218.a
		country_event = {
			id = paxsolaris.219
		}
	}
}
country_event = { 
	id = paxsolaris.219
	title = paxsolaris.219.t
	desc = paxsolaris.219.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.219" }
	option = { 
		name = paxsolaris.219.a
		hidden_effect = { country_event = { id = paxsolaris.225 hours = 6 } }
	}
}
country_event = { 
	id = paxsolaris.220
	title = paxsolaris.220.t
	desc = paxsolaris.220.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.220" }
	option = { 
		name = paxsolaris.220.a
		country_event = {
			id = paxsolaris.221
		}
	}
}
country_event = { 
	id = paxsolaris.221
	title = paxsolaris.221.t
	desc = paxsolaris.221.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.221" }
	option = { 
		name = paxsolaris.221.a
		add_to_variable = { var = solar_inquisition_ongoing_decisions value = 1 }
		custom_effect_tooltip = paxsolaris_221_a
		hidden_effect = {
			if = {
				limit = { has_country_flag = sol_inquisition_spies }
				random_list = {
					40 = {
						country_event = {
							id = paxsolaris.222
							days = 10
						}
					}
					60 = {
						country_event = {
							id = paxsolaris.223
							days = 10
						}
					}
				}
			}
			else = { 
				country_event = {
					id = paxsolaris.223
					days = 10
				}
			}
		}
	}
	option = { 
		name = paxsolaris.221.b
		add_to_variable = { var = solar_inquisition_ongoing_decisions value = 1 }
		custom_effect_tooltip = paxsolaris_221_b
		hidden_effect = {
			if = {
				limit = { has_country_flag = sol_inquisition_spies }
				random_list = {
					70 = {
						country_event = {
							id = paxsolaris.222
							days = 30
						}
					}
					30 = {
						country_event = {
							id = paxsolaris.223
							days = 30
						}
					}
				}
			}
			else = { 
				country_event = {
					id = paxsolaris.223
					days = 30
				}
			}
		}
	}
	option = { 
		name = paxsolaris.221.c
		add_to_variable = { var = solar_inquisition_ongoing_decisions value = 1 }
		custom_effect_tooltip = paxsolaris_221_c
		hidden_effect = {
			if = {
				limit = { has_country_flag = sol_inquisition_spies }
				country_event = {
					id = paxsolaris.222
					days = 50
				}
			}
			else = { 
				country_event = {
					id = paxsolaris.223
					days = 50
				}
			}
		}
	}
}
country_event = { 
	id = paxsolaris.222
	title = paxsolaris.222.t
	desc = paxsolaris.222.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.222" }
	option = { 
		name = paxsolaris.222.a
		add_to_variable = { var = solar_inquisition_ongoing_decisions value = -1 }
		clr_country_flag = sol_inquisition_spies
	}
}
country_event = { 
	id = paxsolaris.223
	title = paxsolaris.223.t
	desc = paxsolaris.223.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.223" }
	option = { 
		name = paxsolaris.223.a
		add_to_variable = { var = solar_inquisition_ongoing_decisions value = -1 }
	}
}
country_event = { 
	id = paxsolaris.224
	title = paxsolaris.224.t
	desc = paxsolaris.224.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.224"
		hidden_effect = {
			SOL_calculate_leads_small = yes
			add_to_variable = { var = SOL_lead_variable value = lead_counter }
			clr_country_flag = sol_inquisition_spies
		}
	}
	option = { 
		name = paxsolaris.224.a
		custom_effect_tooltip = paxsolaris_leads_increase_riot
	}
}
country_event = { 
	id = paxsolaris.225
	title = paxsolaris.225.t
	desc = paxsolaris.225.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.225" }
	option = { 
		name = paxsolaris.225.a
		hidden_effect = { country_event = paxsolaris.226 }
	}
}
country_event = { 
	id = paxsolaris.226
	title = paxsolaris.226.t
	desc = paxsolaris.226.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.226" }
	option = { 
		name = paxsolaris.226.a
		hidden_effect = { country_event = paxsolaris.227 }
	}
}
country_event = { 
	id = paxsolaris.227
	title = paxsolaris.227.t
	desc = paxsolaris.227.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.227" }
	option = { 
		name = paxsolaris.227.a
		hidden_effect = { country_event = paxsolaris.228 }
	}
}
country_event = { 
	id = paxsolaris.228
	title = paxsolaris.228.t
	desc = paxsolaris.228.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.228" }
	option = { 
		name = paxsolaris.228.a
	}
}
country_event = { 
	id = paxsolaris.229
	title = paxsolaris.229.t
	desc = paxsolaris.229.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.229" }
	option = { 
		name = paxsolaris.229.a
		set_country_flag = SOL_great_march_fired
		hidden_effect = {
			clear_array = SOL_long_march_current_state_array
			109 = { add_to_array = { EQS.SOL_long_march_current_state_array = THIS } }
			185 = { add_to_array = { EQS.SOL_long_march_current_state_array = THIS } }
			223 = { add_to_array = { EQS.SOL_long_march_current_state_array = THIS } }
			activate_targeted_decision = { target = var:SOL_long_march_current_state_array^SOL_long_march_num decision = SOL_long_march }
		}
	}
}
country_event = { 
	id = paxsolaris.230
	title = paxsolaris.230.t
	desc = paxsolaris.230.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.230" }
	option = { 
		name = paxsolaris.230.a
	}
}
country_event = { 
	id = paxsolaris.231
	title = paxsolaris.231.t
	desc = paxsolaris.231.d
	picture = GFX_event_hrm_poster
	trigger = {
		has_country_flag = sol_allow_paxsolaris_231
		is_SOLAR_EMPIRE = yes
		NOT = { has_country_flag = resistance_ceasefire }
	}
	mean_time_to_happen = {
		days = 20
	}
	fire_only_once = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.231" }
	option = { 
		name = paxsolaris.231.a
		country_event = paxsolaris.232
	}
}
country_event = { 
	id = paxsolaris.232
	title = paxsolaris.232.t
	desc = paxsolaris.232.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.232" 
		hidden_effect = { 
			set_variable = { var = sol_hrm_number_of_betrayals value = 0 }
			country_event = { id = paxsolaris.233 days = 5 } 
		}
	}
	option = { 
		name = paxsolaris.232.a
		set_country_flag = {
			flag = sol_porosity_increase
			value = 1
			days = 120
		}
		add_to_variable = { var = solar_resistance_cohesion_actions_progress value = 1 }
		ai_chance = { base = 0 }
		custom_effect_tooltip = paxsolaris_232_a
		custom_effect_tooltip = paxsolaris_resistance_cohesion_increase
		hidden_effect = { SOL_calculate_border_porosity = yes }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } }
				set_country_flag = sol_allow_paxsolaris_236
			}
		}
	}
	option = { 
		name = paxsolaris.232.b
		add_to_variable = { var = sol_hrm_number_of_betrayals value = 1 }
		ai_chance = { base = 1 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } }
				set_country_flag = sol_allow_paxsolaris_236
			}
		}
	}
}
country_event = {
	id = paxsolaris.233
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.233"
		hidden_effect = {
			add_to_variable = { var = solar_resistance_cohesion_actions value = 1 }
			every_country = {
				limit = {
					NOT = {
						tag = EQS
						is_in_faction_with = EQS
						has_idea = detached_country
						has_idea = communal_society
						has_idea = tribal_society
						has_idea = tribal_society2
						has_idea = tribal_society3
						has_idea = tribal_society4
						has_idea = agrarian_society
						has_idea = agrarian_society2
						has_idea = agrarian_society3
						has_idea = agrarian_society4
						has_idea = agrarian_society5
						has_idea = agrarian_society6
					}
					sol_is_oppressive_nation = no
				}
				country_event = { id = paxsolaris.234 days = 1 }
			}
			country_event = { id = paxsolaris.235 days = 2 }		
		}
		hidden_effect = { SOL_calculate_loyalty = yes }
	}
	title = paxsolaris.233.t
	desc = paxsolaris.233.d
	picture = GFX_event_solarempire

	is_triggered_only = yes
	major = no
	fire_only_once = yes

	option = {
		name = paxsolaris.233.a
		custom_effect_tooltip = resistancecohesionaction
	}
}
country_event = { 
	id = paxsolaris.234
	title = paxsolaris.234.t
	desc = paxsolaris.234.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.234" }
	option = { 
		name = paxsolaris.234.a
		trigger = {
			is_coalition_member = yes
		}
		set_global_flag = coalition_recognise_hrm_available
	}
	option = { 
		name = paxsolaris.234.b
		trigger = {
			is_coalition_member = no
		}
		ai_chance = {
			factor = 3
		}
		EQS = {
			add_opinion_modifier = { 
				target = PREV
				modifier = EQS_recognised_HRM
			} 
		}
		HRM = {
			add_opinion_modifier = { 
				target = PREV
				modifier = HRM_recognised_HRM
			} 
		}
	}
	option = { 
		name = paxsolaris.234.c
		trigger = {
			is_coalition_member = no
		}
		ai_chance = {
			factor = 3
			modifier = {
				NOT = { is_pony_race = yes }
				factor = 2
			}
			modifier = {
				NOT = { has_government = democratic }
				factor = 3
			}
			modifier = {
				original_tag = CRY
				factor = 0.1
			}
			modifier = {
				original_tag = EQC
				factor = 0.1
			}
			modifier = {
				original_tag = STG
				factor = 20
			}
		}
	}
}
country_event = { 
	id = paxsolaris.235
	title = paxsolaris.235.t
	desc = paxsolaris.235.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.235" }
	option = { 
		name = paxsolaris.235.a
	}
}
country_event = { 
	id = paxsolaris.236
	title = paxsolaris.236.t
	desc = paxsolaris.236.d
	picture = GFX_event_hrm_poster
	trigger = {
		has_country_flag = sol_allow_paxsolaris_236
		is_SOLAR_EMPIRE = yes
		NOT = { has_country_flag = resistance_ceasefire }
	}
	mean_time_to_happen = {
		days = 20
	}
	fire_only_once = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.236" }
	option = { 
		name = paxsolaris.236.a
		country_event = paxsolaris.237
	}
}
country_event = { 
	id = paxsolaris.237
	title = paxsolaris.237.t
	desc = paxsolaris.237.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.237" }
	option = { 
		name = paxsolaris.237.a
		add_timed_idea = {
			idea = SOL_oil_shortage
			days = 120
		}
		add_to_variable = { var = solar_resistance_cohesion_actions_progress value = 1 }
		ai_chance = { base = 0 }
		custom_effect_tooltip = paxsolaris_resistance_cohesion_increase
		country_event = { id = paxsolaris.238 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } is_ai = no }
				set_country_flag = sol_allow_paxsolaris_240
				country_event = { id = paxsolaris.255 days = 10 }
			}
		}
	}
	option = { 
		name = paxsolaris.237.b
		add_to_variable = { var = sol_hrm_number_of_betrayals value = 1 }
		ai_chance = { base = 1 }
		country_event = { id = paxsolaris.239 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } is_ai = no }
				set_country_flag = sol_allow_paxsolaris_240
				country_event = { id = paxsolaris.255 days = 10 }
			}
		}
	}
}
country_event = { 
	id = paxsolaris.238
	title = paxsolaris.238.t
	desc = paxsolaris.238.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.238" }
	option = { 
		name = paxsolaris.238.a
	}
}
country_event = { 
	id = paxsolaris.239
	title = paxsolaris.239.t
	desc = paxsolaris.239.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.239" }
	option = { 
		name = paxsolaris.239.a
	}
}
country_event = { 
	id = paxsolaris.240
	title = paxsolaris.240.t
	desc = paxsolaris.240.d
	picture = GFX_event_hrm_poster
	trigger = {
		has_country_flag = sol_allow_paxsolaris_240
		is_SOLAR_EMPIRE = yes
		NOT = { has_country_flag = resistance_ceasefire }
	}
	mean_time_to_happen = {
		days = 20
	}
	fire_only_once = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.240" }
	option = { 
		name = paxsolaris.240.a
		country_event = paxsolaris.241
	}
}
country_event = { 
	id = paxsolaris.241
	title = paxsolaris.241.t
	desc = paxsolaris.241.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.241" }
	option = { 
		name = paxsolaris.241.a
		add_timed_idea = {
			idea = SOL_changeling_interferance
			days = 120
		}
		add_to_variable = { var = solar_resistance_cohesion_actions_progress value = 1 }
		ai_chance = { base = 0 }
		custom_effect_tooltip = paxsolaris_resistance_cohesion_increase
		country_event = { id = paxsolaris.242 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } is_ai = no }
				set_country_flag = sol_allow_paxsolaris_244
			}
		}
	}
	option = { 
		name = paxsolaris.241.b
		add_to_variable = { var = sol_hrm_number_of_betrayals value = 1 }
		ai_chance = { base = 1 }
		country_event = { id = paxsolaris.243 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } is_ai = no }
				set_country_flag = sol_allow_paxsolaris_244
			}
		}
	}
}
country_event = { 
	id = paxsolaris.242
	title = paxsolaris.242.t
	desc = paxsolaris.242.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.242" }
	option = { 
		name = paxsolaris.242.a
	}
}
country_event = { 
	id = paxsolaris.243
	title = paxsolaris.243.t
	desc = paxsolaris.243.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.243" }
	option = { 
		name = paxsolaris.243.a
	}
}
country_event = { 
	id = paxsolaris.244
	title = paxsolaris.244.t
	desc = paxsolaris.244.d
	picture = GFX_event_hrm_poster
	trigger = {
		has_country_flag = sol_allow_paxsolaris_244
		is_SOLAR_EMPIRE = yes
		NOT = { has_country_flag = resistance_ceasefire }
	}
	mean_time_to_happen = {
		days = 20
	}
	fire_only_once = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.244" }
	option = { 
		name = paxsolaris.244.a
		country_event = paxsolaris.245
	}
}
country_event = { 
	id = paxsolaris.245
	title = paxsolaris.245.t
	desc = paxsolaris.245.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.245" }
	option = { 
		name = paxsolaris.245.a
		add_timed_idea = {
			idea = SOL_nightmares
			days = 120
		}
		add_to_variable = { var = solar_resistance_cohesion_actions_progress value = 1 }
		ai_chance = { base = 0 }
		custom_effect_tooltip = paxsolaris_resistance_cohesion_increase
		country_event = { id = paxsolaris.246 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } is_ai = no }
				set_country_flag = sol_allow_paxsolaris_248
			}
		}
	}
	option = { 
		name = paxsolaris.245.b
		add_to_variable = { var = sol_hrm_number_of_betrayals value = 1 }
		ai_chance = { base = 1 }
		country_event = { id = paxsolaris.247 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } is_ai = no }
				set_country_flag = sol_allow_paxsolaris_248
			}
		}
	}
}
country_event = { 
	id = paxsolaris.246
	title = paxsolaris.246.t
	desc = paxsolaris.246.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.246" }
	option = { 
		name = paxsolaris.246.a
	}
}
country_event = { 
	id = paxsolaris.247
	title = paxsolaris.247.t
	desc = paxsolaris.247.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.247" }
	option = { 
		name = paxsolaris.247.a
	}
}
country_event = { 
	id = paxsolaris.248
	title = paxsolaris.248.t
	desc = paxsolaris.248.d
	picture = GFX_event_hrm_poster
	trigger = {
		has_country_flag = sol_allow_paxsolaris_248
		is_SOLAR_EMPIRE = yes
		NOT = { has_country_flag = resistance_ceasefire }
	}
	mean_time_to_happen = {
		days = 30
	}
	fire_only_once = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.248" 
		clr_country_flag = sol_allow_paxsolaris_248
	}
	option = { 
		name = paxsolaris.248.a
		country_event = paxsolaris.249
	}
}
country_event = { 
	id = paxsolaris.249
	title = paxsolaris.249.t
	desc = paxsolaris.249.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.249" }
	option = { 
		name = paxsolaris.249.a
		country_event = paxsolaris.250
	}
}
country_event = { 
	id = paxsolaris.250
	title = paxsolaris.250.t
	desc = paxsolaris.250.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.250" 
		hidden_effect = {
			every_state = {
				limit = {
					is_owned_and_controlled_by = EQS
					OR = {
						state = 154
						state = 39
						state = 65
						state = 106
						state = 29
						state = 157
						state = 158
						state = 159
						state = 229
						state = 653
						state = 662
					}
				}
				add_dynamic_modifier = {
					modifier = SOL_bombing_effect
					days = 120
				}
				if = {
					limit = { 
						non_damaged_building_level = {
							building = infrastructure
							level > 0	
						}
					}
					damage_building = {
						type = infrastructure
						damage = 1
					}
				}
				damage_building = {
					type = rail_way
					damage = 1
				}
			}
		}
	}
	option = { 
		name = paxsolaris.250.a
		add_to_variable = { var = solar_resistance_cohesion_actions_progress value = 1 }
		ai_chance = { base = 0 }
		hidden_effect = {
			every_state = {
				limit = {
					is_owned_and_controlled_by = EQS
					OR = {
						state = 102
						state = 223
						state = 40
					}
				}
				add_dynamic_modifier = {
					modifier = SOL_bombing_effect
					days = 120
				}
				if = {
					limit = { 
						non_damaged_building_level = {
							building = infrastructure
							level > 0		
						}
					}
					damage_building = {
						type = infrastructure
						damage = 1
					}
				}
				damage_building = {
					type = rail_way
					damage = 1
				}
			}
		}
		custom_effect_tooltip = paxsolaris_resistance_cohesion_increase
		custom_effect_tooltip = paxsolaris_250_a
		country_event = { id = paxsolaris.251 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } }
				every_state = {
					limit = { 
						OR = {
							state = 232
							state = 227
							state = 228
							state = 525
							state = 231
							state = 230
							state = 349
							state = 187
							state = 184
							state = 75
							state = 110
							state = 188
							state = 186
							state = 107
							state = 185
							state = 108
							state = 109
							state = 226
							state = 12
						}
					}
					set_state_flag = sol_hrm_starting_states
				}
				random_owned_controlled_state = {
					limit = {
						has_state_flag = sol_hrm_starting_states
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				random_owned_controlled_state = {
					limit = {
						has_state_flag = sol_hrm_starting_states
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				random_owned_controlled_state = {
					limit = {
						has_state_flag = sol_hrm_starting_states
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				75 = {
					if = {
						limit = {
							has_state_flag = sol_hrm_starting_states
							NOT = { has_state_flag = SOL_ongoing_uprising }
							NOT = { has_state_flag = SOL_overrun_by_resistance }
							is_owned_and_controlled_by = event_target:solar_empire
							is_core_of = event_target:solar_empire
						}
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
			}
			if = {
				limit = { is_ai = yes }
				random_list = {
					1 = {
						modifier = {
							factor = 0
							has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_SUCCESS }
						}
						set_variable = { solar_resistance_cohesion_actions = 3 }
						set_variable = { sol_hrm_number_of_betrayals = 0 }
					}
					4 = {
						modifier = {
							factor = 0
							has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_FAILURE }
						}
						set_variable = { sol_hrm_number_of_betrayals = 2 }
					}
					4 = {
						modifier = {
							factor = 0
							has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_SUCCESS }
						}
						set_variable = { sol_hrm_number_of_betrayals = 4 }
					}
				}
			}
			set_country_flag = sol_hrm_final_move
		}
	}
	option = { 
		name = paxsolaris.250.b
		add_to_variable = { var = sol_hrm_number_of_betrayals value = 1 }
		ai_chance = { base = 1 }
		custom_effect_tooltip = paxsolaris_250_b
		country_event = { id = paxsolaris.252 hours = 6 }
		hidden_effect = { 
			SOL_calculate_loyalty = yes 
			if = {
				limit = { NOT = { has_global_flag = sol_war_of_the_eclipse_begun } }
				every_state = {
					limit = { 
						OR = {
							state = 232
							state = 227
							state = 228
							state = 525
							state = 231
							state = 230
							state = 349
							state = 187
							state = 184
							state = 75
							state = 110
							state = 188
							state = 186
							state = 107
							state = 185
							state = 108
							state = 109
							state = 226
							state = 12
						}
					}
					set_state_flag = sol_hrm_starting_states
				}
				random_owned_controlled_state = {
					limit = {
						has_state_flag = sol_hrm_starting_states
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				random_owned_controlled_state = {
					limit = {
						has_state_flag = sol_hrm_starting_states
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				random_owned_controlled_state = {
					limit = {
						has_state_flag = sol_hrm_starting_states
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
				75 = {
					if = {
						limit = {
							has_state_flag = sol_hrm_starting_states
							NOT = { has_state_flag = SOL_ongoing_uprising }
							NOT = { has_state_flag = SOL_overrun_by_resistance }
							is_owned_and_controlled_by = event_target:solar_empire
							is_core_of = event_target:solar_empire
						}
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
				}
			}
			if = {
				limit = { is_ai = yes }
				random_list = {
					1 = {
						modifier = {
							factor = 0
							has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_SUCCESS }
						}
						set_variable = { solar_resistance_cohesion_actions = 3 }
						set_variable = { sol_hrm_number_of_betrayals = 0 }
					}
					4 = {
						modifier = {
							factor = 0
							has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_FAILURE }
						}
						set_variable = { sol_hrm_number_of_betrayals = 2 }
					}
					4 = {
						modifier = {
							factor = 0
							has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_SUCCESS }
						}
						set_variable = { sol_hrm_number_of_betrayals = 4 }
					}
				}
			}
			set_country_flag = sol_hrm_final_move
		}
	}
}
country_event = { 
	id = paxsolaris.251
	title = paxsolaris.251.t
	desc = paxsolaris.251.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.251" }
	option = { 
		name = paxsolaris.251.a
	}
}
country_event = { 
	id = paxsolaris.252
	title = paxsolaris.252.t
	desc = paxsolaris.252.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.252" }
	option = { 
		name = paxsolaris.252.a
		country_event = paxsolaris.253
	}
}
country_event = { 
	id = paxsolaris.253
	title = paxsolaris.253.t
	desc = paxsolaris.253.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.253" }
	option = { 
		name = paxsolaris.253.a
	}
}
country_event = { 
	id = paxsolaris.254
	title = paxsolaris.254.t
	desc = paxsolaris.254.d
	picture = GFX_event_hrm_poster
	trigger = {
		check_variable = { sol_hrm_number_of_betrayals > 1 }
		NOT = { has_global_flag = sol_war_of_the_eclipse_begun }
		is_ai = no
	}
	mean_time_to_happen = {
		days = 20
	}
	fire_only_once = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.254" }
	option = { 
		name = paxsolaris.254.a
	}
}
country_event = { 
	id = paxsolaris.255
	title = paxsolaris.255.t
	desc = paxsolaris.255.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.255" }
	option = { 
		name = paxsolaris.255.a
	}
}
country_event = { 
	id = paxsolaris.256
	title = paxsolaris.256.t
	desc = paxsolaris.256.d
	picture = GFX_event_hrm_poster
	trigger = {
		check_variable = { sol_hrm_number_of_betrayals > 3 }
		NOT = { has_global_flag = sol_war_of_the_eclipse_begun }
		is_ai = no
	}
	mean_time_to_happen = {
		days = 20
	}
	fire_only_once = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.256" }
	option = { 
		name = paxsolaris.256.a
	}
}
country_event = { 
	id = paxsolaris.257
	title = paxsolaris.257.t
	desc = paxsolaris.257.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.257" }
	option = { 
		name = paxsolaris.257.a
		country_event = paxsolaris.258
	}
}
country_event = { 
	id = paxsolaris.258
	title = paxsolaris.258.t
	desc = {
		text = paxsolaris.258.d_no_betrayals
		trigger = {
			check_variable = { sol_hrm_number_of_betrayals = 0 }
		}
	}
	desc = {
		text = paxsolaris.258.d_some_betrayals
		trigger = {
			check_variable = { sol_hrm_number_of_betrayals < 4 }
		}
	}
	desc = {
		text = paxsolaris.258.d_many_betrayals
		trigger = {
			check_variable = { sol_hrm_number_of_betrayals > 3 }
		}
	}
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.258" }
	option = { 
		ai_chance = {
			base = 1
			modifier = {
				factor = 10
				has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_FAILURE }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = SOL_HRM_OUTCOME option = SOL_HRM_SUCCESS }
			}
		}
		trigger = {
			check_variable = { sol_hrm_number_of_betrayals = 0 }
		}
		name = paxsolaris.258.a
		hidden_effect = { HRM = { set_country_flag = sol_velvet_joined_resistance } }
		set_country_flag = sol_velvet_traitor
		hidden_effect = { country_event = { id = paxsolaris.264 hours = 4 } }
		HRM = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HRM_velvet_arrow
		}
	}
	option = { 
		ai_chance = { 
			base = 10 
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { sol_hrm_number_of_betrayals < 4 } }
				country_event = paxsolaris.259
			}
			else = {
				country_event = paxsolaris.261
			}
		}
		name = paxsolaris.258.b
	}
}
country_event = { 
	id = paxsolaris.259
	title = paxsolaris.259.t
	desc = paxsolaris.259.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.259" }
	option = { 
		name = paxsolaris.259.a
		country_event = paxsolaris.260
	}
}
country_event = { 
	id = paxsolaris.260
	title = paxsolaris.260.t
	desc = paxsolaris.260.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.260" }
	option = { 
		name = paxsolaris.260.a
		hidden_effect = {
			set_variable = { var = solar_resistance_cohesion_actions value = 1 }
			set_country_flag = sol_resistance_decapitated
			hidden_effect = { mark_focus_tree_layout_dirty = yes }
			country_event = { id = paxsolaris.262 hours = 4 }
			every_state ={
				clr_state_flag = resistance_attack_dummy_target
				clr_state_flag = resistance_attack_true_target
			}
			clear_array = EQS.SOL_resistance_attack_target_array
			clr_country_flag = SOL_has_ongoing_attack
			remove_mission = SOL_resistance_attack
			clr_country_flag = SOL_has_ongoing_cohesion
			remove_mission = SOL_resistance_cohesion
		}
		custom_effect_tooltip = SOL_no_organised_activity
	}
}
country_event = { 
	id = paxsolaris.261
	title = paxsolaris.261.t
	desc = paxsolaris.261.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.261" }
	option = { 
		name = paxsolaris.261.a
		set_country_flag = sol_velvet_dead
		hidden_effect = { country_event = { id = paxsolaris.264 hours = 4 } }
	}
}
country_event = { 
	id = paxsolaris.262
	title = paxsolaris.262.t
	desc = paxsolaris.262.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.262" }
	option = { 
		name = paxsolaris.262.a
		country_event = paxsolaris.263
	}
}
country_event = { 
	id = paxsolaris.263
	title = paxsolaris.263.t
	desc = paxsolaris.263.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.263" }
	option = { 
		name = paxsolaris.263.a
	}
}
country_event = { 
	id = paxsolaris.264
	title = paxsolaris.264.t
	desc = {
		text = paxsolaris.264.d_velvet_dead
		trigger = {
			has_country_flag = sol_velvet_dead
		}
	}
	desc = {
		text = paxsolaris.264.d_velvet_traitor
		trigger = {
			has_country_flag = sol_velvet_traitor
		}
	}
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.264" }
	option = { 
		name = paxsolaris.264.a
		set_country_flag = sol_capture_starxie_decisions
		custom_effect_tooltip = sol_capture_starxie_decisions_unlock
	}
}
country_event = { 
	id = paxsolaris.265
	title = paxsolaris.265.t
	desc = paxsolaris.265.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.265" }
	option = { 
		name = paxsolaris.265.a
		country_event = paxsolaris.266
	}
}
country_event = { 
	id = paxsolaris.266
	title = paxsolaris.266.t
	desc = paxsolaris.266.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.266" }
	option = { 
		name = paxsolaris.266.a
		hidden_effect = { 
			country_event = { id = paxsolaris.267 days = 2 } 
			every_state = {
				limit = { 
					OR = {
						state = 232
						state = 227
						state = 228
						state = 525
						state = 231
						state = 230
						state = 349
						state = 187
						state = 184
						state = 75
						state = 110
						state = 188
						state = 186
						state = 107
						state = 185
						state = 108
						state = 109
						state = 226
						state = 12
					}
				}
				set_state_flag = sol_hrm_starting_states
			}
		}
	}
}
country_event = { 
	id = paxsolaris.267
	title = paxsolaris.267.t
	desc = paxsolaris.267.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.267" 
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
			random_owned_controlled_state = {
				limit = {
					has_state_flag = sol_hrm_starting_states
					NOT = { has_state_flag = SOL_ongoing_uprising }
					NOT = { has_state_flag = SOL_overrun_by_resistance }
					is_core_of = event_target:solar_empire
				}
				set_state_flag = SOL_ongoing_uprising
				EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
			}
		}
	}
	option = { 
		name = paxsolaris.267.a
		hidden_effect = { country_event = { id = paxsolaris.268 days = 15 } }
	}
}
country_event = { 
	id = paxsolaris.268
	title = paxsolaris.268.t
	desc = paxsolaris.268.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.268" 
		hidden_effect = { 
			country_event = { id = paxsolaris.269 days = 3 }
			every_state = {
				limit = { 
					OR = {
						state = 232
						state = 227
						state = 228
						state = 525
						state = 231
						state = 230
						state = 349
						state = 187
						state = 184
						state = 75
						state = 110
						state = 188
						state = 186
						state = 107
						state = 185
						state = 108
						state = 109
						state = 226
						state = 12
					}
				}
				set_state_flag = sol_hrm_starting_states
				if = {
					limit = { is_owned_and_controlled_by = EQS }
					set_demilitarized_zone = yes 
				}
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { 
							OR = {
								state = 232
								state = 227
								state = 228
								state = 525
								state = 231
								state = 230
								state = 349
								state = 187
								state = 184
								state = 75
								state = 110
								state = 188
								state = 186
								state = 107
								state = 185
								state = 108
								state = 109
								state = 226
								state = 12
							}
						}
						NOT = { is_in_array = { HRM.EQS_border_states = THIS } }
					}
					add_to_array = { HRM.EQS_border_states = THIS }
				}
				if = {
					limit = { has_state_flag = SOL_ongoing_uprising }
					EQS = { remove_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
					clr_state_flag = SOL_ongoing_uprising
				}
			}
			every_state = {
				limit = { has_state_flag = sol_hrm_starting_states }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = HRM.EQS_border_states
				}
			}
		}
	}
	option = { 
		name = paxsolaris.268.a
	}
}
country_event = { 
	id = paxsolaris.269
	title = paxsolaris.269.t
	desc = paxsolaris.269.d
	picture = GFX_event_hrm_poster
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.269" 
		hidden_effect = {
			every_state = {
				limit = { 
					OR = {
						state = 232
						state = 227
						state = 228
						state = 525
						state = 231
						state = 230
						state = 349
						state = 187
						state = 184
						state = 75
						state = 110
						state = 188
						state = 186
						state = 107
						state = 185
						state = 108
						state = 109
						state = 226
						state = 12
					}
				}
				set_state_flag = sol_hrm_starting_states
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { 
							OR = {
								state = 232
								state = 227
								state = 228
								state = 525
								state = 231
								state = 230
								state = 349
								state = 187
								state = 184
								state = 75
								state = 110
								state = 188
								state = 186
								state = 107
								state = 185
								state = 108
								state = 109
								state = 226
								state = 12
							}
						}
						NOT = { is_in_array = { HRM.EQS_border_states = THIS } }
					}
					add_to_array = { HRM.EQS_border_states = THIS }
				}
				if = {
					limit = { has_state_flag = SOL_ongoing_uprising }
					EQS = { remove_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
					clr_state_flag = SOL_ongoing_uprising
				}
			}
			every_state = {
				limit = { has_state_flag = sol_hrm_starting_states }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = HRM.EQS_border_states
				}
			}
			EQS = {
				HRM = { transfer_technology = yes } 
				set_variable = { var = solar_resistance_cohesion_actions value = 3 }
				set_global_flag = sol_war_of_the_eclipse_begun
				hidden_effect = { mark_focus_tree_layout_dirty = yes }
				HRM_damage_states = yes
				if = {
					limit = { check_variable = { solar_civilian_support > 0 } }
					HRM_damage_states = yes
				}
				if = {
					limit = { check_variable = { solar_civilian_support > 1 } }
					HRM_damage_states = yes
				}
				if = {
					limit = { check_variable = { solar_civilian_support > 2 } }
					HRM_damage_states = yes
				}
				if = {
					limit = { check_variable = { solar_civilian_support > 3 } }
					HRM_damage_states = yes
				}
				if = {
					limit = { check_variable = { solar_civilian_support > 4 } }
					HRM_damage_states = yes
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = EQR
						tag = NLR
						tag = NLH
					}
				}
				if = {
					limit = { has_character = EQS_evening_squall }
					EQS_evening_squall = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_starswirl }
					EQS_starswirl = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_dust_hoover }
					EQS_dust_hoover = { set_nationality = ACC }
				}
				if = {
					limit = { has_character = EQS_cocopomell }
					EQS_cocopomell = { 
						if = {
							limit = { 
								is_character_slot = political_advisor 
								NOT = { is_character_slot = high_command }
							}
							remove_advisor_role = { slot = political_advisor }
							add_advisor_role = {
								advisor = {
									slot = high_command
									idea_token = EQS_cocopommel
									traits = { uniform_designer }
									ai_will_do = {
										factor = 1
									}
								}
							}
						}
						set_nationality = HRM 
					}
				}
				if = {
					limit = { has_character = EQS_mayor_mare }
					EQS_mayor_mare = { 
						if = {
							limit = { is_advisor = no  }
							add_advisor_role = {
								advisor = {
									slot = political_advisor
									idea_token = HRM_mayor_mare
									traits = { populist }
									ai_will_do = {
										factor = 1
									}
									available = {
										if = {
											limit = { tag = HRM }
											custom_trigger_tooltip = {
												tooltip = HRM_proven_ourselves_to_the_harmonists
												has_country_flag = HRM_the_rebirth_of_harmony_flag
											}
										}
									}
								}
							}
						}
						set_nationality = HRM 
					}
				}
				if = {
					limit = { has_character = EQS_fancy_pants }
					EQS_fancy_pants = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_filthy_rich }
					EQS_filthy_rich = { set_nationality = LPA }
				}
				if = {
					limit = { has_character = EQS_sweetie_drops }
					EQS_sweetie_drops = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_rockhoof }
					EQS_rockhoof = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_flash_magnus }
					EQS_flash_magnus = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_kittyhawk }
					EQS_kittyhawk = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_eqs6 }
					EQS_eqs6 = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_maudpie }
					EQS_maudpie = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_limestone }
					EQS_limestone = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_grannysmith }
					EQS_grannysmith = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_spitfire }
					EQS_spitfire = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_braeburn }
					EQS_braeburn = { set_nationality = SHF }
				}
				if = {
					limit = { has_character = EQS_sergeant_reckless }
					EQS_sergeant_reckless = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_big_macintosh }
					EQS_big_macintosh = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_caltrop_decay }
					EQS_caltrop_decay = { 
						set_nationality = HRM
						if = {
							limit = { 
								NOT = { is_character_slot = high_command }
							}
							add_advisor_role = {
								advisor = {
									slot = high_command
									idea_token = caltrop_decay
									ledger = army
									cost = 100
									available = {
										if = {
											limit = { tag = HRM }
											custom_trigger_tooltip = {
												tooltip = HRM_proven_ourselves_to_the_harmonists
												has_country_flag = HRM_the_rebirth_of_harmony_flag
											}
										}
										if = {
											limit = { original_tag = EQS }
											custom_trigger_tooltip = {
												tooltip = EQS_has_new_advisors
												has_global_flag = EQS_completed_advisors
											}
										}
										if = {
											limit = { is_SOLAR_EMPIRE = yes }
											custom_trigger_tooltip = {
												tooltip = sol_harmonists_have_deserted_tt
												NOT = { has_country_flag = SOL_harmonic_commanders_leave }
											}
										}
									}
									traits = { army_armored_2 }
									ai_will_do = {
										factor = 1
									}
								}
							}
						}
					}
				}
				if = {
					limit = { has_character = EQS_NLR_tempest_wind }
					EQS_NLR_tempest_wind = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_celenite }
					EQS_NLR_celenite = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_midnight_oil }
					EQS_NLR_midnight_oil = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_NLR_bipen }
					EQS_NLR_bipen = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_oli_equites }
					EQS_oli_equites = { set_nationality = HRM }
				}
				if = {
					limit = { has_character = EQS_sunrise_moonshadow }
					EQS_sunrise_moonshadow = { set_nationality = HRM }
				}
			}
			HRM = {
				load_focus_tree = hrm_focus
				hidden_effect = { mark_focus_tree_layout_dirty = yes }
				every_state = {
					limit = { 
						has_variable = SOL_public_works_region_id
						check_variable = { SOL_public_works_region_id < 8 }
					}
					add_core_of = HRM
				}
				every_state = {
					limit = { 
						is_owned_and_controlled_by = EQS
						has_state_flag = sol_hrm_starting_states 
					}
					HRM = { transfer_state = PREV }
					if = { 
						limit = { has_state_flag = SOL_overrun_by_resistance } 
						SOL_remove_uprising = yes
						add_core_of = EQS
					}
				}
				add_political_power = 100
				add_stability = 0.3
				add_war_support = 0.35
				add_manpower = 5000
				army_experience = 50
				add_command_power = 25
				add_equipment_to_stockpile = { type = infantry_equipment amount = 4000 producer = EQS }
				if = {
					limit = { check_variable = { EQS.solar_military_support < 5 } }
					add_political_power = 200
					add_stability = 0.05
					add_war_support = 0.05
					add_manpower = 2500
					army_experience = 50
					add_command_power = 25
					add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = EQS }
				}
				if = {
					limit = { check_variable = { EQS.solar_military_support < 4 } }
					add_political_power = 200
					add_stability = 0.05
					add_war_support = 0.05
					add_manpower = 2500
					army_experience = 50
					add_command_power = 25
					add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = EQS }
				}
				if = {
					limit = { check_variable = { EQS.solar_military_support < 3 } }
					add_political_power = 200
					add_stability = 0.05
					add_war_support = 0.05
					add_manpower = 2500
					army_experience = 50
					add_command_power = 25
					add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = EQS }
				}
				if = {
					limit = { check_variable = { EQS.solar_military_support < 2 } }
					add_political_power = 200
					add_stability = 0.05
					add_war_support = 0.05
					add_manpower = 2500
					army_experience = 50
					add_command_power = 25
					add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = EQS }
				}
				if = {
					limit = { check_variable = { EQS.solar_military_support < 1 } }
					add_political_power = 200
					add_stability = 0.05
					add_war_support = 0.05
					add_manpower = 2500
					army_experience = 50
					add_command_power = 25
					add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = EQS }
				}
				load_oob = "HRM_starting_units"
				if = {
					limit = { check_variable = { EQS.solar_resistance_strength = 5 } }
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 1st Division 'Tree'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.75" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 2nd Division 'Moon'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.75" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 4th Division 'Ponies' Will'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.75" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 3rd Division 'Swords'\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.75" owner = HRM }
						create_unit = { division = "name = \"1st Free Equestrian Division 'Glimmer'\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"2nd Free Equestrian Division 'Trickster'\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"1st Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"3rd Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"5th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"43rd Armoured Brigade 'Revolutionary Selenian'\" division_template = \"Light Tank Brigade\" start_experience_factor = 0.4 start_equipment_factor = 0.75" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"41st Armoured Brigade 'Rolling Thunder'\" division_template = \"Light Tank Brigade\" start_experience_factor = 0.4 start_equipment_factor = 0.75" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"3rd Free Equestrian Division 'Empyreal'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"35th Free Equestrian Volunteer Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"20th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"5th Free Equestrian Division 'Detrot Stallions'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"6th Free Equestrian Division 'Firefly'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"17th Pegasi Volunteer Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"8th Pegasi Brigade 'Furies'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"7th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"8th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"9th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"10th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"12th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"4th Free Equestrian Division 'Liberty'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"11th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"99th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"29th Pegasi Brigade 'Stratusburg Mares'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"12th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"13th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
					}
				}
				else_if = {
					limit = { check_variable = { EQS.solar_resistance_strength = 4 } }
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 1st Division 'Tree'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 2nd Division 'Moon'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"2nd Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 4th Division 'Ponies' Will'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 3rd Division 'Swords'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7" owner = HRM }
						create_unit = { division = "name = \"3rd Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"43rd Armoured Brigade 'Revolutionary Selenian'\" division_template = \"Light Tank Brigade\" start_experience_factor = 0.4 start_equipment_factor = 0.7" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"17th Pegasi Volunteer Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"1st Free Equestrian Division 'Glimmer'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"2nd Free Equestrian Division 'Trickster'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"3rd Free Equestrian Division 'Empyreal'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"35th Free Equestrian Volunteer Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"5th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"4th Free Equestrian Division 'Liberty'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"5th Free Equestrian Division 'Detrot Stallions'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"11th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"29th Pegasi Brigade 'Stratusburg Mares'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"6th Free Equestrian Division 'Firefly'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"7th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"8th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"9th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"10th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"11th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"8th Pegasi Brigade 'Furies'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.65" owner = HRM }
					}
				}
				else_if = {
					limit = { check_variable = { EQS.solar_resistance_strength = 3 } }
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 1st Division 'Tree'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 2nd Division 'Moon'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"1st Pegasi Volunteer Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 4th Division 'Ponies' Will'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 3rd Division 'Swords'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.65" owner = HRM }
						create_unit = { division = "name = \"4th Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"17th Pegasi Volunteer Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"1st Free Equestrian Division 'Glimmer'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"2nd Free Equestrian Division 'Trickster'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"3rd Free Equestrian Division 'Empyreal'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"35th Free Equestrian Volunteer Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"8th Pegasi Brigade 'Furies'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"4th Free Equestrian Division 'Liberty'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"5th Free Equestrian Division 'Detrot Stallions'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"2nd Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"29th Pegasi Brigade 'Stratusburg Mares'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.6" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"6th Free Equestrian Division 'Firefly'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"7th Free Equestrian Division\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
					}
				}
				else_if = {
					limit = { check_variable = { EQS.solar_resistance_strength = 2 } }
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 1st Division 'Tree'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 2nd Division 'Moon'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"22nd Pegasi Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"Harmonist Corps 4th Division 'Ponies' Will'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"Harmonist Corps 3rd Division 'Swords'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = HRM }
						create_unit = { division = "name = \"8th Pegasi Brigade 'Furies'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.55" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"17th Pegasi Volunteer Brigade\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.3 start_equipment_factor = 0.55" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"1st Free Equestrian Division 'Glimmer'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
						create_unit = { division = "name = \"2nd Free Equestrian Division 'Trickster'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
					}
					random_owned_controlled_state = {
						create_unit = { division = "name = \"3rd Free Equestrian Division 'Empyreal'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
						create_unit = { division = "name = \"6th Free Equestrian Division 'Firefly'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
						create_unit = { division = "name = \"4th Free Equestrian Division 'Liberty'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
						create_unit = { division = "name = \"5th Free Equestrian Division 'Detrot Stallions'\" division_template = \"Onhooves Division\" start_experience_factor = 0.3 start_equipment_factor = 0.55" owner = HRM }
						create_unit = { division = "name = \"29th Pegasi Brigade 'Stratusburg Mares'\" division_template = \"Pegasi Brigade\" start_experience_factor = 0.2 start_equipment_factor = 0.55" owner = HRM }
					}
				}

				HRM_flash_force	= {
					if = {
						limit = {
							has_dlc = "Waking the Tiger"
						}

						add_corps_commander_role = {
							traits = { pony_race_trait supply_raider commando ranger }
							skill = 3
							attack_skill = 4
							defense_skill = 3
							planning_skill = 1
							logistics_skill = 2
							legacy_id = 339114
						}
						else = {
							add_corps_commander_role = {
								traits = { pony_race_trait supply_raider_no_wtt commando ranger }
								skill = 3
								attack_skill = 4
								defense_skill = 3
								planning_skill = 1
								logistics_skill = 2
								legacy_id = 339114
							}
						}
					}
				}
				declare_war_on = {
					target = EQS
					type = annex_everything
				}
				add_ideas = partial_economic_mobilisation 
				add_ideas = HRM_the_last_stand_of_freedom_idea
				swap_ideas = {	
					remove_idea = volunteer_only
					add_idea = limited_conscription
				}
			}
			EQS = { 
				subtract_from_variable = { solar_resistance_strength_actions = 1 }
				subtract_from_variable = { solar_resistance_outreach_actions = 1 }
				SOL_calculate_loyalty = yes
			}
		}
	}
	option = { 
		name = paxsolaris.269.a
	}
	option = { 
		name = paxsolaris.269.b
		HRM = { 
			change_tag_from = ROOT 
			set_variable = { eaw_welcome_screen = 1 }
		}
	}
}
country_event = { 
	id = paxsolaris.270
	title = paxsolaris.270.t
	desc = paxsolaris.270.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.270" }
	option = { 
		name = paxsolaris.270.a
	}
}
country_event = { 
	id = paxsolaris.271
	title = paxsolaris.271.t
	desc = paxsolaris.271.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.271" }
	option = { 
		name = paxsolaris.271.a
	}
}
country_event = { 
	id = paxsolaris.272
	title = paxsolaris.272.t
	desc = paxsolaris.272.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.272" }
	option = { 
		name = paxsolaris.272.a
	}
}
country_event = { 
	id = paxsolaris.273
	title = paxsolaris.273.t
	desc = paxsolaris.273.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.273" }
	option = { 
		name = paxsolaris.273.a
	}
}
country_event = { 
	id = paxsolaris.274
	title = paxsolaris.274.t
	desc = paxsolaris.274.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.274" }
	option = { 
		name = paxsolaris.274.a
	}
}
country_event = { 
	id = paxsolaris.275
	title = paxsolaris.275.t
	desc = paxsolaris.275.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.275" }
	option = { 
		name = paxsolaris.275.a
		country_event = paxsolaris.276
	}
}
country_event = { 
	id = paxsolaris.276
	title = paxsolaris.276.t
	desc = paxsolaris.276.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.276" }
	option = { 
		name = paxsolaris.276.a
		country_event = paxsolaris.277
	}
}
country_event = { 
	id = paxsolaris.277
	title = paxsolaris.277.t
	desc = paxsolaris.277.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.277" }
	option = { 
		name = paxsolaris.277.a
		hidden_effect = {
			set_variable = { var = solar_resistance_cohesion_actions value = 1 }
			set_country_flag = sol_resistance_decapitated
			hidden_effect = { mark_focus_tree_layout_dirty = yes }
			country_event = { id = paxsolaris.262 hours = 4 }
			every_state ={
				clr_state_flag = resistance_attack_dummy_target
				clr_state_flag = resistance_attack_true_target
			}
			clear_array = EQS.SOL_resistance_attack_target_array
			clr_country_flag = SOL_has_ongoing_attack
			remove_mission = SOL_resistance_attack
			clr_country_flag = SOL_has_ongoing_cohesion
			remove_mission = SOL_resistance_cohesion
		}
		custom_effect_tooltip = inquisitioncohesionaction
		custom_effect_tooltip = SOL_no_organised_activity
	}
}
country_event = {
	id = paxsolaris.278
	title = paxsolaris.278.t 
	desc = {
		text = paxsolaris.278.d_0
		trigger = { check_variable = { sol_num_uprising_cycles = 1 } }
	}
	desc = {
		text = paxsolaris.278.d_1
		trigger = { check_variable = { sol_num_uprising_cycles = 2 } }
	}
	desc = {
		text = paxsolaris.278.d_2
		trigger = { check_variable = { sol_num_uprising_cycles = 3 } }
	}
	desc = {
		text = paxsolaris.278.d_3
		trigger = { check_variable = { sol_num_uprising_cycles = 4 } }
	}
	desc = {
		text = paxsolaris.278.d_4
		trigger = { check_variable = { sol_num_uprising_cycles > 4 } }
	}
	picture = GFX_event_solarempire
	trigger = {
		is_SOLAR_EMPIRE = yes
		NOT = { has_country_flag = resistance_ceasefire }
		NOT = { has_country_flag = SOL_no_unorganised_resistance_activity }
		has_country_flag = harmony_restoration_movement_formed
		NOT = {
			check_variable = { solar_civilian_support = 5 } 
			check_variable = { solar_military_support = 5 } 
		}
		is_ai = no
	}
	mean_time_to_happen = {
		days = 300
		modifier = {
			factor = 0.95
			check_variable = { solar_civilian_support < 5 } 
		}
		modifier = {
			factor = 0.9
			check_variable = { solar_civilian_support < 4 } 
		}
		modifier = {
			factor = 0.85
			check_variable = { solar_civilian_support < 3 } 
		}
		modifier = {
			factor = 0.8
			check_variable = { solar_civilian_support < 2 } 
		}
		modifier = {
			factor = 0.75
			check_variable = { solar_civilian_support < 1 } 
		}
		modifier = {
			factor = 0.95
			check_variable = { solar_military_support < 5 } 
		}
		modifier = {
			factor = 0.9
			check_variable = { solar_military_support < 4 } 
		}
		modifier = {
			factor = 0.85
			check_variable = { solar_military_support < 3 } 
		}
		modifier = {
			factor = 0.8
			check_variable = { solar_military_support < 2 } 
		}
		modifier = {
			factor = 0.75
			check_variable = { solar_military_support < 1 } 
		}
		modifier = {
			factor = 1.25
			has_completed_focus = SOL_tighten_the_noose
		}
		modifier = {
			factor = 1.1
			has_completed_focus = SOL_surveillance
		}
		modifier = {
			factor = 2
			has_country_flag = resistance_deescalation
		}
		modifier = {
			factor = 2
			has_country_flag = SOL_martial_law_active
		}
	}
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.278 "
		hidden_effect = {
			add_to_variable = { sol_num_uprising_cycles = 1 }
			random_list = {
				10 = {
					set_variable = { sol_num_uprisings = 1 }
				}
				30 = {
					set_variable = { sol_num_uprisings = 2 }
				}
				25 = {
					set_variable = { sol_num_uprisings = 3 }
				}
				20 = {
					set_variable = { sol_num_uprisings = 4 }
					modifier = {
						factor = 0.5
						has_country_flag = resistance_deescalation
					}
					modifier = {
						factor = 0.9
						has_completed_focus = SOL_tighten_the_noose
					}
					modifier = {
						factor = 0.95
						has_completed_focus = SOL_surveillance
					}
				}
				10 = {
					set_variable = { sol_num_uprisings = 5 }
					modifier = {
						factor = 0.5
						has_country_flag = resistance_deescalation
					}
					modifier = {
						factor = 0.75
						has_completed_focus = SOL_tighten_the_noose
					}
					modifier = {
						factor = 0.8
						has_completed_focus = SOL_surveillance
					}
				}
			}
			set_variable = { sol_num_uprisings_activated = 0 }
			clear_array = SOL_states_with_uprising
			while_loop_effect = {
				limit = { check_variable = { sol_num_uprisings > sol_num_uprisings_activated } }
				random_owned_controlled_state = {
					limit = {
						SOL_eligible_for_state_events = yes
						NOT = { has_state_flag = SOL_ongoing_uprising }
						NOT = { has_state_flag = SOL_overrun_by_resistance }
						is_core_of = event_target:solar_empire
					}
					set_state_flag = SOL_ongoing_uprising
					EQS = { activate_targeted_decision = { target = PREV decision = SOL_state_uprising_decision } }
					add_to_array = { EQS.SOL_states_with_uprising = id }
				}
				add_to_variable = { sol_num_uprisings_activated = 1 }
			}
		}
	}  
	option = {
		name = paxsolaris.278.a
		effect_tooltip = {
			activate_targeted_decision = { target = SOL_states_with_uprising^0 decision = SOL_state_uprising_decision }
			if = {
				limit = { check_variable = { SOL_states_with_uprising^num > 0 } }
				activate_targeted_decision = { target = SOL_states_with_uprising^1 decision = SOL_state_uprising_decision }
			}
			if = {
				limit = { check_variable = { SOL_states_with_uprising^num > 1 } }
				activate_targeted_decision = { target = SOL_states_with_uprising^2 decision = SOL_state_uprising_decision }
			}
			if = {
				limit = { check_variable = { SOL_states_with_uprising^num > 2 } }
				activate_targeted_decision = { target = SOL_states_with_uprising^3 decision = SOL_state_uprising_decision }
			}
			if = {
				limit = { check_variable = { SOL_states_with_uprising^num > 3 } }
				activate_targeted_decision = { target = SOL_states_with_uprising^4 decision = SOL_state_uprising_decision }
			}
			if = {
				limit = { check_variable = { SOL_states_with_uprising^num > 4 } }
				activate_targeted_decision = { target = SOL_states_with_uprising^5 decision = SOL_state_uprising_decision }
			}
		}
	}
}
country_event = {
	id = paxsolaris.299
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.299"}
	title = paxsolaris.299.t
	desc = {
		text = paxsolaris.299.d_warroom
		trigger = {
			NLR = { exists = no }
		}
	}
	desc = {
		text = paxsolaris.299.d_nightmare
		trigger = {
			NLR = { exists = yes }
		}
	}
	picture = GFX_event_celestia
	is_triggered_only = yes
	option = { 
		name = paxsolaris.299.a
		trigger = {
			NLR = { exists = no }
		}
	}
	option = { 
		name = paxsolaris.299.b
		trigger = {
			NLR = { exists = yes }
		}
	}
}
country_event = {
	id = paxsolaris.300
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.300"}
	title = paxsolaris.300.t
	desc = paxsolaris.300.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	option = { 
		name = paxsolaris.300.a
		hidden_effect = {
			add_named_threat = { threat = 10 name = threat_equestrian_rise_of_daybreaker }
			if = {
				limit = {
					NLR = {
						exists = yes
						has_country_leader = {
							ruling_only = yes
							name = "Nightmare Moon"
						}
					}
				}
				country_event = paxsolaris.322
			}
			else_if = {
				limit = { has_idea = alicorn_sisters }
				country_event = paxsolaris.323
			}
			else = {
				country_event = paxsolaris.331
			}
		}
	}
}
country_event = { #Change
	id = paxsolaris.301
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.301"}
	title = paxsolaris.301.t
	desc = {
		text = paxsolaris.301.d_war
		trigger = {
			has_war = yes
			NLR = { exists = no }
		}
	}
	desc = {
		text = paxsolaris.301.d_peace
		trigger = {
			has_war = no
			NLR = { exists = no }
		}
	}
	desc = {
		text = paxsolaris.301.d_nightmare
		trigger = {
			NLR = { exists = yes }
		}
	}
	picture = GFX_event_celestia_theme

	trigger = {
		tag = EQS
		is_SOLAR_EMPIRE = no
		OR = {
			AND = {
				is_under_threat = yes
				has_country_flag = { flag = celestia_evil_meter value > 32 }
			}
			has_country_flag = { flag = celestia_evil_meter value > 40 }
		}
		OR = {
			is_ai = no
			is_historical_focus_on = no
		}
		is_subject = no
		has_capitulated = no
		NOT = { has_country_flag = sol_fight_eve_of_civil_war }
		NOT = { 
			has_country_flag = SOL_became_daybreaker
			has_country_flag = SOL_refused_daybreaker
		}
	}

	mean_time_to_happen = {
		days = 460
		modifier = {
			factor = 0.5
			has_country_flag = { flag = celestia_evil_meter value > 39 }
		}
		modifier = {
			factor = 0.7
			has_country_flag = { flag = celestia_evil_meter value > 32 }
		}
		modifier = {
			factor = 0.8
			eqs_has_civil_war = yes
		}
		modifier = {
			factor = 0.8
			surrender_progress > 0.3
		}
		modifier = {
			factor = 0.7
			surrender_progress > 0.5
		}
		modifier = {
			factor = 0.6
			surrender_progress > 0.7
		}
		modifier = {
			factor = 0.8
			fascism > 0.3
		}
		modifier = {
			factor = 0.8
			fascism > 0.5
		}
		modifier = {
			factor = 0.8
			fascism > 0.7
		}
	}
	fire_only_once = yes

	option = { #try to stop it
		name = paxsolaris.301.a
		trigger = {
			NOT = { has_country_flag = supernova_by_decision }
		}
		add_political_power = -300
		if = {
			limit = { has_country_flag = { flag = celestia_evil_meter value > 39 } }
			add_ideas = SOL_daybreaker_curse2
		}
		else = {
			add_ideas = SOL_daybreaker_curse1 
		}
		country_event = paxsolaris.299
		set_country_flag = SOL_refused_daybreaker
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_global_flag = EQS_evil_celestia
			}
			modifier = {	
				factor = 2
				has_war = no
			}
		}
	}

	option = { #yay
		name = paxsolaris.301.b
		set_country_flag = SOL_became_daybreaker
		country_event = paxsolaris.300
		ai_chance = {
			factor = 50
		}
	}
}
country_event = { #Cult of the Purifying Sun
	id = paxsolaris.302
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.302"}
	title = paxsolaris.302.t
	desc = paxsolaris.302.d
	picture = GFX_event_nmm_meetup
	trigger = {
		tag = EQS
		has_government = democratic
		OR = {
			has_country_flag = NLR_sympathizers_radical
			has_country_flag = NLR_sympathizers_moderate
			has_country_flag = NLR_sympathizers_calm
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = paxsolaris.302.a
		hidden_effect = { country_event = paxsolaris.303 }
	}
}
country_event = { 
	id = paxsolaris.303
	title = paxsolaris.303.t
	desc = paxsolaris.303.d
	picture = GFX_event_nmm_meetup
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.303" }
	option = { 
		name = paxsolaris.303.a
		country_event = {
			id = paxsolaris.305
			days = 30
		}
		hidden_effect = {
			set_country_flag = sol_fight_eve_of_civil_war
		}
	}
	option = { 
		name = paxsolaris.303.b
		hidden_effect = { country_event = paxsolaris.304 }
	}
}
country_event = { 
	id = paxsolaris.304
	title = paxsolaris.304.t
	desc = paxsolaris.304.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.304" }
	option = { 
		name = paxsolaris.304.a
	}
}
country_event = { 
	id = paxsolaris.305
	title = paxsolaris.305.t
	desc = paxsolaris.305.d
	picture = GFX_event_night_and_fog
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.305" 
		hidden_effect = {
			40 = { 
				set_demilitarized_zone = yes 
				teleport_armies = {
					limit = { tag = EQS }
					to_state = 74
				}
			}
		}
	}
	option = { 
		name = paxsolaris.305.a
		hidden_effect = { country_event = paxsolaris.306 }
	}
}
country_event = { 
	id = paxsolaris.306
	title = paxsolaris.306.t
	desc = paxsolaris.306.d
	picture = GFX_event_night_and_fog
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.306" }
	option = { 
		name = paxsolaris.306.a
		hidden_effect = { country_event = paxsolaris.307 }
	}
}
country_event = { 
	id = paxsolaris.307
	title = paxsolaris.307.t
	desc = paxsolaris.307.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.307"
		hidden_effect = {
			save_current_manpower = yes
			40 = {
				set_state_category = wasteland
				set_demilitarized_zone = no
				set_temp_variable = { sol_local_pop = state_population }
				multiply_temp_variable = { sol_local_pop = -1 }
				add_manpower = sol_local_pop
				add_manpower = 1
				set_variable = { sol_majority_race_id = 1 }
				set_building_level = {
					type = infrastructure
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = arms_factory
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = industrial_complex
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = air_base
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = naval_base
					level = 0
					instant_build = yes
					province = { all_provinces = yes }
				}
				set_building_level = {
					type = bunker
					level = 0
					instant_build = yes
					province = { all_provinces = yes }
				}
				set_building_level = {
					type = rail_way
					level = 0
					instant_build = yes
					province = { all_provinces = yes }
				}
				set_building_level = {
					type = supply_node
					level = 0
					instant_build = yes
					province = { all_provinces = yes }
				}
				set_building_level = {
					type = coastal_bunker
					level = 0
					instant_build = yes
					province = { all_provinces = yes }
				}
				set_building_level = {
					type = dockyard
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = anti_air_building
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = synthetic_refinery
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = fuel_silo
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = radar_station
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = rocket_site
					level = 0
					instant_build = yes
				}
				set_building_level = {
					type = nuclear_reactor
					level = 0
					instant_build = yes
				}
			}
			restore_previous_manpower = yes
			set_victory_points = {
				province = 6598
				value = 0
			}
		}
	}
	option = { 
		name = paxsolaris.307.a
		set_global_flag = SOL_cult_destroyed_hollow_shades
		modify_country_flag = { flag = celestia_evil_meter value = 10 }
	}
}
country_event = { #Aftermath EQS
	id = paxsolaris.308
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.308"}
	title = paxsolaris.308.t
	desc = paxsolaris.308.d
	picture = GFX_event_solarempire
	trigger = {
		tag = EQS
		has_global_flag = SOL_cult_destroyed_hollow_shades
		controls_state = 40
	}
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = paxsolaris.308.a
	}
}
country_event = { #Aftermath NLR
	id = paxsolaris.309
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.309"}
	title = paxsolaris.308.t
	desc = paxsolaris.309.d
	picture = GFX_event_solarempire
	trigger = {
		OR = {
			tag = NLR
			tag = NLH
		}
		has_global_flag = SOL_cult_destroyed_hollow_shades
		controls_state = 40
	}
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = paxsolaris.308.a
	}
}
country_event = { 
	id = paxsolaris.310
	title = paxsolaris.310.t
	desc = paxsolaris.310.d
	picture = GFX_event_night_and_fog
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.310" }
	option = { 
		name = paxsolaris.310.a
	}
}
country_event = { 
	id = paxsolaris.311
	title = paxsolaris.311.t
	desc = paxsolaris.311.d
	picture = GFX_event_luna_red_moon
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.311" }
	option = { 
		name = paxsolaris.311.a
		hidden_effect = {
			country_event = {
				id = paxsolaris.312
				days = 1
			}
		}
	}
}
country_event = { 
	id = paxsolaris.312
	title = paxsolaris.312.t
	desc = paxsolaris.312.d
	picture = GFX_event_luna_raid
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.312" }
	option = { 
		name = paxsolaris.312.a
		hidden_effect = {
			country_event = {
				id = paxsolaris.313
			}
		}
	}
}
country_event = { 
	id = paxsolaris.313
	title = paxsolaris.313.t
	desc = paxsolaris.313.d
	picture = GFX_event_luna_raid
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.313" 
		hidden_effect = { 
			clr_country_flag = sol_fight_eve_of_civil_war
			clr_country_flag = has_celestia_nightmare_fight
			clr_country_flag = has_daybreaker_nightmare_fight
			if = {
				limit = { tag = EQS }
				set_country_flag = fight_right_turn
				set_country_flag = left_side_ai_controlled
				clr_country_flag = fight_left_turn
				clr_country_flag = right_side_ai_controlled
			}
			if = {
				limit = { tag = NLR }
				set_country_flag = fight_left_turn
				set_country_flag = right_side_ai_controlled
				clr_country_flag = fight_right_turn
				clr_country_flag = left_side_ai_controlled
				if = {
					limit = {
						EQS = { has_country_flag = { flag = celestia_evil_meter value > 15 } }
						is_historical_focus_on = no
						is_ai = no
					}
					random_list = {
						10 ={
							modifier = {
								factor = 0
								OR = {
									has_country_flag = { flag = celestia_evil_meter value > 40 }
									has_global_flag = EQS_evil_celestia
								}
							}
							modifier = {
								factor = 0.5
								has_country_flag = { flag = celestia_evil_meter value > 30 }
							}
							modifier = {
								factor = 0.8
								fascism > 0.3
							}
							modifier = {
								factor = 0.8
								fascism > 0.5
							}
							modifier = {
								factor = 0.8
								fascism > 0.7
							}
							set_country_flag = has_celestia_nightmare_fight
						}
						5 = {
							set_country_flag = has_daybreaker_nightmare_fight
						}
					}
				}
			}
		}
	}
	option = { 
		name = paxsolaris.313.a
		trigger = {
			NOT = { has_country_flag = has_daybreaker_nightmare_fight }
		}
		country_event = {
			id = paxsolaris.314 #CELESTIA
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				has_global_flag = EQS_evil_celestia
			}
		}
	}
	option = { 
		name = paxsolaris.313.b
		trigger = {
			EQS = { has_country_flag = { flag = celestia_evil_meter value > 15 } }
			OR = {
				is_ai = no
				is_historical_focus_on = no
			}
			NOT = { has_country_flag = has_celestia_nightmare_fight }
		}
		country_event = {
			id = paxsolaris.315 #DAYBREAKER
		}
		ai_chance = {
			factor = 50
		}
	}
}
country_event = { 
	id = paxsolaris.314
	title = paxsolaris.314.t
	desc = paxsolaris.314.d
	picture = GFX_event_luna_raid
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.314" }
	option = { 
		name = paxsolaris.314.a
		if = {
			limit = { is_ai = no }
			set_country_flag = has_celestia_nightmare_fight
			set_variable = { nightmare_frame = 2 }
			set_variable = { daybreaker_frame = 1 }
			hidden_effect = { initiate_sister_fight = yes }
		}
	}
}
country_event = { 
	id = paxsolaris.315
	title = paxsolaris.315.t
	desc = paxsolaris.315.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.315" }
	option = { 
		name = paxsolaris.315.a
		if = {
			limit = { is_ai = no }
			set_country_flag = has_daybreaker_nightmare_fight
			set_variable = { nightmare_frame = 2 }
			set_variable = { daybreaker_frame = 2 }
			hidden_effect = { initiate_sister_fight = yes }
		}
		else = {
			hidden_effect = { EQS = { SOL_daybreaker_ascension = yes } }
		}
	}
}
country_event = { 
	id = paxsolaris.316
	title = paxsolaris.316.t
	desc = paxsolaris.316.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.316" 
		hidden_effect = {
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
			EQS = {
				set_state_controller = 177
				set_state_controller = 182
				set_state_controller = 40
				set_state_controller = 39
				set_state_controller = 65
				set_state_controller = 1
				set_state_controller = 5
				set_state_controller = 97
			}
			SOL_daybreaker_ascension = yes
		}
	}
	option = { 
		name = paxsolaris.316.a
		custom_effect_tooltip = nightmare_defeat_tt
	}
}
country_event = { 
	id = paxsolaris.317
	title = paxsolaris.317.t
	desc = paxsolaris.317.d
	picture = GFX_event_celestia
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.317" 
		hidden_effect = {
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
			EQS = {
				set_state_controller = 177
				set_state_controller = 182
				set_state_controller = 40
				set_state_controller = 39
				set_state_controller = 65
				set_state_controller = 1
				set_state_controller = 5
				set_state_controller = 97
			}
		}
	}
	option = { 
		name = paxsolaris.317.a
		custom_effect_tooltip = nightmare_defeat_tt
	}
}
country_event = { 
	id = paxsolaris.318
	title = paxsolaris.318.t
	desc = paxsolaris.318.d
	picture = GFX_event_nmm_red_moon
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.318" 
		hidden_effect = {
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
			NLR = {
				set_state_controller = 101
				set_state_controller = 2
				set_state_controller = 3
				set_state_controller = 104
				set_state_controller = 74
				set_state_controller = 68
			}
			SOL_daybreaker_ascension = yes
		}
	}
	option = { 
		name = paxsolaris.318.a
		custom_effect_tooltip = daybreaker_defeat_tt
	}
}
country_event = { 
	id = paxsolaris.319
	title = paxsolaris.319.t
	desc = paxsolaris.319.d
	picture = GFX_event_nmm_red_moon
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.319" 
		hidden_effect = {
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
			NLR = {
				set_state_controller = 101
				set_state_controller = 2
				set_state_controller = 3
				set_state_controller = 104
				set_state_controller = 74
				set_state_controller = 68
			}
		}
	}
	option = { 
		name = paxsolaris.319.a
		custom_effect_tooltip = celestia_defeat_tt
	}
}
country_event = {
	id = paxsolaris.320
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.320" }
	title = paxsolaris.320.t
	desc = {
		text = paxsolaris.320.d_civilwar
		trigger = {
			NLH = { exists = yes }
		}
	}
	desc = {
		text = paxsolaris.320.d_peace
		trigger = {
			NLR = { exists = no }
		}
	}
	desc = {
		text = paxsolaris.320.d_nightmare
		trigger = {
			NLR = { 
				exists = yes
				has_government = fascism
			}
		}
	}
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = { #Support Rebellion
		name = paxsolaris.320.a
		trigger = {
			OR = {	
				NLH = {
					exists = yes
					NOT = { has_government = fascism }
					has_war_with = EQS
				}
				EQR = {
					exists = yes
					NOT = { has_government = fascism }
					has_war_with = EQS
				}
			}
		}
		reverse_add_opinion_modifier = { target = event_target:solar_empire modifier = cry_betrayal }
		if = {
			limit = { 
				NLR = {
					exists = yes
					has_government = fascism
				}
			}
			reverse_add_opinion_modifier = { target = NLR modifier = cry_betrayal }
		}
		if = {
			limit = { is_subject_of = EQS }
			EQS = { end_puppet = ROOT }
			add_to_array = {
				global.former_EQS_puppets = THIS
			}
			set_country_flag = former_EQS_puppet
		}
		if = {
			limit = { is_in_faction_with = event_target:solar_empire }
			event_target:solar_empire = { remove_from_faction = ROOT }
		}
		if = {
			limit = { 
				NLH = { 
					exists = yes 
					has_government = democratic 
				}
			}
			hidden_effect = {
				if = {
					limit = { has_war_with = NLH }
					set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
					white_peace = NLH
					every_enemy_country = {
						limit = {
							is_in_faction_with = NLH
						}
						white_peace = ROOT
					}
				}
			}
			NLH = { add_to_faction = ROOT }
			add_to_war = {
				targeted_alliance = NLH
				enemy = EQS
			}
		}
		else_if = {
			limit = { 
				EQR = { 
					exists = yes 
					has_government = democratic 
				}
			}
			hidden_effect = {
				if = {
					limit = { has_war_with = EQR }
					set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
					white_peace = EQR
					every_enemy_country = {
						limit = {
							is_in_faction_with = EQR
						}
						white_peace = ROOT
					}
				}
			}
			EQR = { add_to_faction = ROOT }
			add_to_war = {
				targeted_alliance = EQR
				enemy = EQS
			}
		}
		hidden_effect = {
			every_state = {
				limit = { is_controlled_by = ROOT }		
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { is_in_array = { ROOT.EQS_border_states = THIS } }
					}
					add_to_array = { ROOT.EQS_border_states = THIS }
				}
			}
			every_state = {
				limit = { is_controlled_by = ROOT }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = ROOT.EQS_border_states
				}	
			}
		}
		ai_chance = {
			factor = 2.5
		}
	}
	option = { #Stay Neutral
		name = paxsolaris.320.b
		if = {
			limit = { is_subject_of = EQS }
			EQS = { end_puppet = ROOT }
			add_to_array = {
				global.former_EQS_puppets = THIS
			}
			set_country_flag = former_EQS_puppet
		}
		if = {
			limit = { is_in_faction_with = EQS }
			leave_faction = yes
		}
		reverse_add_opinion_modifier = { target = event_target:solar_empire modifier = cry_betrayal }
		if = {
			limit = { NLR = { exists = yes } }
			reverse_add_opinion_modifier = { target = NLR modifier = cry_betrayal }
		}
		if = {
			limit = { NLH = { exists = yes } }
			reverse_add_opinion_modifier = { target = NLR modifier = cry_betrayal }
		}
		if = {
			limit = { EQR = { exists = yes } }
			reverse_add_opinion_modifier = { target = EQR modifier = cry_betrayal }
		}
		hidden_effect = {
			if = {
				limit = { has_war_with = event_target:solar_empire }
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = event_target:solar_empire
				every_enemy_country = {
					limit = {
						is_in_faction_with = event_target:solar_empire
					}
					white_peace = ROOT
				}
			}
			if = {
				limit = { has_war_with = NLH }
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = NLH
				every_enemy_country = {
					limit = {
						is_in_faction_with = NLH
					}
					white_peace = ROOT
				}
			}
			if = {
				limit = { has_war_with = NLR }
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = NLR
				every_enemy_country = {
					limit = {
						is_in_faction_with = NLR
					}
					white_peace = ROOT
				}
			}
			if = {
				limit = { has_war_with = EQR }
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = EQR
				every_enemy_country = {
					limit = {
						is_in_faction_with = EQR
					}
					white_peace = ROOT
				}
			}
			every_state = {
				limit = { is_controlled_by = ROOT }		
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { is_in_array = { ROOT.EQS_border_states = THIS } }
					}
					add_to_array = { ROOT.EQS_border_states = THIS }
				}
			}
			every_state = {
				limit = { is_controlled_by = ROOT }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = ROOT.EQS_border_states
				}	
			}
		}
		ai_chance = {
			factor = 4
			modifier = {
				NOT = { is_pony_race = yes }
				factor = 3
			}
			modifier = {
				is_major = yes
				factor = 6
			}
			modifier = {
				NOT = {
					is_neighbor_of = NLR
					is_neighbor_of = EQR
					is_neighbor_of = event_target:solar_empire
				}
				factor = 3
			}
			modifier = {
				original_tag = CRY
				has_completed_focus = CRY_eqs_strengthen_ties
				factor = 0.75
			}
			modifier = {
				original_tag = CRY
				has_completed_focus = CRY_deep_integration
				factor = 0.5
			}
			modifier = {
				original_tag = EQC
				has_completed_focus = EQC_patriation
				factor = 100
			}
		}
	}
	option = { #Support Daybreaker
		name = paxsolaris.320.c
		hidden_effect = {
			if = {
				limit = { has_war_with = event_target:solar_empire }
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = event_target:solar_empire
				every_enemy_country = {
					limit = {
						is_in_faction_with = event_target:solar_empire
					}
					white_peace = ROOT
				}
			}
		}
		if = {
			limit = { NLR = { exists = yes } }
			reverse_add_opinion_modifier = { target = NLR modifier = cry_betrayal }
		}
		if = {
			limit = { NLH = { exists = yes } }
			reverse_add_opinion_modifier = { target = NLR modifier = cry_betrayal }
		}
		if = {
			limit = { EQR = { exists = yes } }
			reverse_add_opinion_modifier = { target = EQR modifier = cry_betrayal }
		}
		add_popularity = { ideology = democratic popularity = -0.1 }
		if = {
			limit = {
				original_tag = EQC
				NOT = { has_focus_tree = eqc_sol_focus }
			}
			set_country_flag = supported_SOL
			load_focus_tree = eqc_sol_focus
			set_cosmetic_tag = EQC_SOL
		}
		hidden_effect = {
			get_current_government_type = yes
		}
		event_target:solar_empire = {
			set_autonomy = { target = ROOT autonomy_state = autonomy_reichsprotectorate }
		}
		hidden_effect = {
			restore_previous_government_type = yes
		}
		if = {
			limit = { 
				NLH = { 
					exists = yes 
					has_war_with = EQS
					NOT = { has_war_with = ROOT }
				}
			}
			add_to_war = {
				targeted_alliance = EQS
				enemy = NLH
			}
		}
		if = {
			limit = { 
				NLR = { 
					exists = yes 
					has_war_with = EQS
					NOT = { has_war_with = ROOT }
				}
			}
			add_to_war = {
				targeted_alliance = EQS
				enemy = NLR
			}
		}
		if = {
			limit = { 
				EQR = { 
					exists = yes 
					has_war_with = EQS
					NOT = { has_war_with = ROOT }
				}
			}
			add_to_war = {
				targeted_alliance = EQS
				enemy = EQR
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				original_tag = CRY
			}
			modifier = {
				add = 10
				has_government = fascism
				NOT = { original_tag = CRY }
			}
		}
	}
	option = { #Support NMM
		name = paxsolaris.320.e
		trigger = {
			NLR = {
				exists = yes
				has_government = fascism
				has_war_with = EQS
			}
		}
		hidden_effect = {
			if = {
				limit = { has_war_with = NLR }
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = NLR
				every_enemy_country = {
					limit = {
						is_in_faction_with = NLR
					}
					white_peace = ROOT
				}
			}
		}
		reverse_add_opinion_modifier = { target = event_target:solar_empire modifier = cry_betrayal }
		add_popularity = { ideology = democratic popularity = -0.1 }
		if = {
			limit = {
				original_tag = EQC
				NOT = { has_focus_tree = eqc_nlr_focus }
			}
			set_country_flag = supported_NLR
			load_focus_tree = eqc_nlr_focus
			set_cosmetic_tag = EQC_NLR
		}
		if = {
			limit = { is_subject_of = EQS }
			EQS = { end_puppet = ROOT }
			add_to_array = {
				global.former_EQS_puppets = THIS
			}
			set_country_flag = former_EQS_puppet
		}
		if = {
			limit = { is_in_faction_with = event_target:solar_empire }
			event_target:solar_empire = { remove_from_faction = ROOT }
		}
		if = {
			limit = { NLR = { is_faction_leader = yes } }
			NLR = { add_to_faction = ROOT }
		}
		add_to_war = {
			targeted_alliance = NLR
			enemy = EQS
		}
		hidden_effect = {
			every_state = {
				limit = { is_controlled_by = ROOT }		
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { is_in_array = { ROOT.EQS_border_states = THIS } }
					}
					add_to_array = { ROOT.EQS_border_states = THIS }
				}
			}
			every_state = {
				limit = { is_controlled_by = ROOT }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = ROOT.EQS_border_states
				}	
			}
		}
		ai_chance = {
			factor = 1 
		}
	}
}
country_event = {
	id = paxsolaris.321
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.321"}
	title = paxsolaris.321.t
	desc = paxsolaris.321.d
	picture = GFX_event_stalliongrad
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = paxsolaris.321.a
		custom_effect_tooltip = paxsolaris_321_tt
		hidden_effect = {
			add_state_core = 67
			add_state_core = 241
			news_event = { id = paxsolaris.336 days = 1 }
			clear_array = STG_border_states
			every_state = {
				limit = { 
					check_variable = { SOL_public_works_region_id = 9 }
					OR = {
						is_controlled_by = EQS
						is_controlled_by = NLR
						is_controlled_by = NLH
					}
				}
				STG = { transfer_state = PREV }
			}
			every_state = {
				limit = { 
					OR = {
						state = 154
						state = 155
						state = 156
						state = 157
						state = 158
						state = 160
						state = 326
						state = 164
						state = 162
						state = 159
						state = 167
						state = 229
						state = 67
						state = 653
						state = 661
						state = 662
						state = 241
					}
				}
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = EQS
						NOT = { is_in_array = { EQS.STG_border_states = THIS } }
					}
					add_to_array = { EQS.STG_border_states = THIS }
				}
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = NLR
						NOT = { is_in_array = { NLR.STG_border_states = THIS } }
					}
					add_to_array = { NLR.STG_border_states = THIS }
				}
				every_neighbor_state = {
					limit = {
						is_owned_and_controlled_by = NLH
						NOT = { is_in_array = { NLH.STG_border_states = THIS } }
					}
					add_to_array = { NLH.STG_border_states = THIS }
				}
			}
			every_state = {
				limit = { is_controlled_by = STG }
				teleport_armies = {
					limit = { tag = EQS }
					to_state_array = EQS.STG_border_states
				}	
				teleport_armies = {
					limit = { tag = NLR }
					to_state_array = NLR.STG_border_states
				}	
				teleport_armies = {
					limit = { tag = NLH }
					to_state_array = NLH.STG_border_states
				}	
			}
		}
		if = {
			limit = { EQS = { exists = yes } }
			EQS = {
				add_opinion_modifier = { target = ROOT modifier = stg_annexed_states }
			}
		}
		if = {
			limit = { NLR = { exists = yes } }
			NLR = {
				add_opinion_modifier = { target = ROOT modifier = stg_annexed_states }
			}
		}
		if = {
			limit = { EQR = { exists = yes } }
			EQR = {
				add_opinion_modifier = { target = ROOT modifier = stg_annexed_states }
			}
		}
		if = {
			limit = { NLH = { exists = yes } }
			NLH = {
				add_opinion_modifier = { target = ROOT modifier = stg_annexed_states }
			}
		}
	}
}
country_event = {
	id = paxsolaris.322
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.322"
		hidden_effect = { SOL_daybreaker_ascension = yes }
	}
	title = paxsolaris.322.t
	desc = paxsolaris.322.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	option = { 
		name = paxsolaris.322.a
	}
}
country_event = {
	id = paxsolaris.323
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.323"}
	title = paxsolaris.323.t
	desc = paxsolaris.323.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	option = { 
		name = paxsolaris.323.a
		hidden_effect = { country_event = paxsolaris.324 }
	}
}
country_event = {
	id = paxsolaris.324
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.324"}
	title = paxsolaris.324.t
	desc = paxsolaris.324.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	option = { 
		name = paxsolaris.324.a
		hidden_effect = { country_event = paxsolaris.325 }
	}
}
country_event = {
	id = paxsolaris.325
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.325"}
	title = paxsolaris.325.t
	desc = paxsolaris.325.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	option = { 
		name = paxsolaris.325.a
		if = {
			limit = { is_ai = no }
			set_country_flag = fight_right_turn
			set_country_flag = left_side_ai_controlled
			clr_country_flag = fight_left_turn
			clr_country_flag = right_side_ai_controlled
			set_variable = { nightmare_frame = 1 }
			set_variable = { daybreaker_frame = 2 }
			set_country_flag = has_daybreaker_luna_fight
			hidden_effect = { initiate_sister_fight = yes }
		}
		else = {
			hidden_effect = { SOL_daybreaker_ascension = yes }
		}
	}
	option = {
		name = paxsolaris.325.b
		if = {
			limit = { is_ai = no }
			set_country_flag = fight_left_turn
			set_country_flag = right_side_ai_controlled
			clr_country_flag = fight_right_turn
			clr_country_flag = left_side_ai_controlled
			set_variable = { nightmare_frame = 1 }
			set_variable = { daybreaker_frame = 2 }
			set_country_flag = has_daybreaker_luna_fight
			hidden_effect = { initiate_sister_fight = yes }
		}
		else = {
			hidden_effect = { SOL_daybreaker_ascension = yes }
		}
	}
}
country_event = {
	id = paxsolaris.326
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.326"}
	title = paxsolaris.326.t
	desc = paxsolaris.326.d
	picture = GFX_event_luna_prison
	is_triggered_only = yes
	option = { 
		name = paxsolaris.326.a
		hidden_effect = { country_event = paxsolaris.327 }
	}
}
country_event = {
	id = paxsolaris.327
	title = paxsolaris.327.t
	desc = paxsolaris.327.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.327"
		hidden_effect = {
			clr_country_flag = daybreaker_luna_fight_nightmare_rejected
			clr_country_flag = daybreaker_luna_fight_nightmare_accepted
		}
	}
	picture = GFX_event_luna_prison
	is_triggered_only = yes
	option = { 
		name = paxsolaris.327.a #LUNA
		country_event = paxsolaris.328
	}
	option = { 
		name = paxsolaris.327.b #NIGHTMARE MOON
		country_event = paxsolaris.329
	}
}
country_event = {
	id = paxsolaris.328
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.328"}
	title = paxsolaris.328.t
	desc = paxsolaris.328.d
	picture = GFX_event_daybreaker_luna
	is_triggered_only = yes
	option = { 
		name = paxsolaris.328.a
		hidden_effect = {
			set_country_flag = daybreaker_luna_fight_nightmare_rejected
			set_temp_variable = { dialogue_temp_var = sol_dialogue_var }
			handle_custom_effects = yes
			#This is used to chain dialogue if you wish. 
			if = { 
				limit = { check_variable = { dialogue_temp_var = sol_dialogue_var } }
				clear_variable = sol_dialogue_var
				clr_country_flag = fight_spells_blocked
				fight_handle_turns = yes
				available_actions = yes
				add_to_variable = { var = sol_fight_var value = 1 }
			}
		}
	}
}
country_event = {
	id = paxsolaris.329
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.329"}
	title = paxsolaris.329.t
	desc = paxsolaris.329.d
	picture = GFX_event_luna_transform
	is_triggered_only = yes
	option = { 
		name = paxsolaris.329.a
		hidden_effect = {
			set_country_flag = daybreaker_luna_fight_nightmare_accepted
			set_variable = { health_array^nightmare_fight_num = 280 }
			set_variable = { nightmare_frame = 2 }
			set_variable = { vitality_array^nightmare_fight_num = 200 }
			set_temp_variable = { dialogue_temp_var = sol_dialogue_var }
			handle_custom_effects = yes
			#This is used to chain dialogue if you wish. 
			if = { 
				limit = { check_variable = { dialogue_temp_var = sol_dialogue_var } }
				clear_variable = sol_dialogue_var
				clr_country_flag = fight_spells_blocked
				fight_handle_turns = yes
				available_actions = yes
				add_to_variable = { var = sol_fight_var value = 1 }
			}
		}
	}
}
country_event = { 
	id = paxsolaris.330
	title = paxsolaris.330.t
	desc = paxsolaris.330.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.330" 
		hidden_effect = {
			clr_country_flag = SOL_harmonic_commanders_leave
			set_country_flag = SOL_harmonic_commanders_return
			every_country = {
				limit = {
					OR = {
						tag = EQR
						tag = NLR
						tag = NLH
						tag = HRM
						tag = ARL
						tag = ACC
						tag = LPA
						tag = SHF
					}
				}
				if = {
					limit = { has_character = EQS_evening_squall }
					EQS_evening_squall = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_starswirl }
					EQS_starswirl = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_rockhoof }
					EQS_rockhoof = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_flash_magnus }
					EQS_flash_magnus = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_kittyhawk }
					EQS_kittyhawk = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_maudpie }
					EQS_maudpie = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_braeburn }
					EQS_braeburn = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_sergeant_reckless }
					EQS_sergeant_reckless = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_big_macintosh }
					EQS_big_macintosh = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = EQS_caltrop_decay }
					EQS_caltrop_decay = { 
						set_nationality = EQS
						if = {
							limit = { 
								NOT = { is_character_slot = high_command }
							}
							add_advisor_role = {
								advisor = {
									slot = high_command
									idea_token = caltrop_decay
									ledger = army
									cost = 100
									available = {
										if = {
											limit = { tag = HRM }
											custom_trigger_tooltip = {
												tooltip = HRM_proven_ourselves_to_the_harmonists
												has_country_flag = HRM_the_rebirth_of_harmony_flag
											}
										}
										if = {
											limit = { original_tag = EQS }
											custom_trigger_tooltip = {
												tooltip = EQS_has_new_advisors
												has_global_flag = EQS_completed_advisors
											}
										}
										if = {
											limit = { is_SOLAR_EMPIRE = yes }
											custom_trigger_tooltip = {
												tooltip = sol_harmonists_have_deserted_tt
												NOT = { has_country_flag = SOL_harmonic_commanders_leave }
											}
										}
									}
									traits = { army_armored_2 }
									ai_will_do = {
										factor = 1
									}
								}
							}
						}
					}
				}
				if = {
					limit = { has_character = HRM_fairy_light }	
					retire_character = HRM_fairy_light
				}
				if = {
					limit = { has_character = HRM_misty_fly }
					HRM_misty_fly = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = HRM_on_stage }
					HRM_on_stage = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = HRM_duke_dapper }
					HRM_duke_dapper = { set_nationality = EQS }
				}
				if = {
					limit = { has_character = HRM_mage_meadowbrook }
					HRM_mage_meadowbrook = { set_nationality = EQS }
				}
				#These characters would join Daybreaker, but can't serve a role
				if = {
					limit = { has_character = EQS_limestone }
					retire_character = EQS_limestone
				}
				if = {
					limit = { has_character = EQS_spitfire }
					retire_character = EQS_spitfire
				}
				if = {
					limit = { has_character = EQS_grannysmith }
					retire_character = EQS_grannysmith
				}
				if = {
					limit = { has_character = HRM_uncle_orange }
					retire_character = HRM_uncle_orange
				}
				if = {
					limit = { has_character = HRM_aunt_orange }
					retire_character = HRM_aunt_orange
				}
				if = {
					limit = { has_character = HRM_sunny_shine }
					retire_character = HRM_sunny_shine
				}
				if = {
					limit = { has_character = EQS_eqs6 }
					retire_character = EQS_eqs6
				}
			}
		}
	}
	option = { 
		name = paxsolaris.330.a
		custom_effect_tooltip = SOL_harmonist_commanders_advisors_companies_return
	}
}
country_event = {
	id = paxsolaris.331
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.331"
		hidden_effect = { SOL_daybreaker_ascension = yes }
	}
	title = paxsolaris.331.t
	desc = paxsolaris.331.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	option = { 
		name = paxsolaris.331.a
	}
}
country_event = { 
	id = paxsolaris.332
	title = paxsolaris.332.t
	desc = paxsolaris.332.d
	picture = GFX_event_luna
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.332" 
		hidden_effect = {
			SOL_daybreaker_ascension = yes
			if = {
				limit = { has_country_flag = left_side_ai_controlled } 
				EQS = {
					add_political_power = var:fight_replay_pp_cost
				}
			}
			if = {
				limit = { has_country_flag = right_side_ai_controlled } 
				NLH = {
					add_political_power = var:fight_replay_pp_cost
				}
				set_country_flag = sol_civil_war_player_is_nlr
			}
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
		}
	}
	option = { 
		name = paxsolaris.332.a
		if = {
			limit = { has_country_flag = sol_civil_war_player_is_nlr }
			NLH = { change_tag_from = ROOT}
		}
	}
}
country_event = { 
	id = paxsolaris.333
	title = paxsolaris.333.t
	desc = paxsolaris.333.d
	picture = GFX_event_luna
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.333" 
		hidden_effect = {
			SOL_luna_victory_effects = yes
			if = {
				limit = { has_country_flag = right_side_ai_controlled } 
				EQS = {
					add_political_power = var:fight_replay_pp_cost
				}
			}
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
		}
	}
	option = { 
		name = paxsolaris.333.a
	}
}
country_event = { 
	id = paxsolaris.334
	title = paxsolaris.334.t
	desc = paxsolaris.334.d
	picture = GFX_event_daybreaker
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.334" 
		hidden_effect = {
			SOL_daybreaker_ascension = yes
			if = {
				limit = { has_country_flag = left_side_ai_controlled } 
				EQS = {
					add_political_power = var:fight_replay_pp_cost
				}
			}
			if = {
				limit = { has_country_flag = right_side_ai_controlled } 
				NLR = {
					add_political_power = var:fight_replay_pp_cost
				}
				set_country_flag = sol_civil_war_player_is_nlr
			}
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
		}
	}
	option = { 
		name = paxsolaris.334.a
		if = {
			limit = { has_country_flag = sol_civil_war_player_is_nlr }
			NLR = { change_tag_from = ROOT}
		}
	}
}
country_event = { 
	id = paxsolaris.335
	title = paxsolaris.335.t
	desc = paxsolaris.335.d
	picture = GFX_event_nmm_red_moon
	is_triggered_only = yes
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.335" 
		hidden_effect = {
			SOL_daybreaker_ascension = yes
			if = {
				limit = { has_country_flag = left_side_ai_controlled } 
				EQS = {
					add_political_power = var:fight_replay_pp_cost
				}
			}
			if = {
				limit = { has_country_flag = right_side_ai_controlled } 
				NLR = {
					add_political_power = var:fight_replay_pp_cost
				}
				set_country_flag = sol_civil_war_player_is_nlr
			}
			end_sister_fight = yes
			play_song = "Radiarc_Uncertainty"
			every_state = {
				limit = {
					is_owned_and_controlled_by = EQS
					OR = {
						state = 182
						state = 40
						state = 39
						state = 65
						state = 1
						state = 5
						state = 3
						state = 104
					}
				}
				NLR = { transfer_state = PREV }
			}
			NLR = {
				SOL_nightmare_victory_spawn_militias = yes
			}
		}
	}
	option = { 
		name = paxsolaris.335.a
		if = {
			limit = { has_country_flag = sol_civil_war_player_is_nlr }
			NLR = { change_tag_from = ROOT}
		}
	}
}
news_event = {
	id = paxsolaris.336
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.336"}
	desc = { 
		text = paxsolaris.336.d_noluna
		trigger = {
			EQS = { 
				NOT = { has_country_flag = sol_ascension_luna_rebellion }
			}
		}
	}
	desc = { 
		text = paxsolaris.336.d_luna
		trigger = {
			EQS = { 
				has_country_flag = sol_ascension_luna_rebellion
			}
		}
	}
	title = paxsolaris.336.t
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		name = paxsolaris.336.a
		trigger = {
			NOT = {
				original_tag = EQS
				original_tag = NLR
				original_tag = STG
				original_tag = NLH
				original_tag = EQR
			}
		}
	}
	option = {
		name = paxsolaris.336.b
		trigger = {
			original_tag = EQS
		}
	}
	option = {
		name = paxsolaris.336.c
		trigger = {
			OR = {
				original_tag = NLR
				original_tag = NLH
				original_tag = EQR
			}
		}
	}
	option = {
		name = paxsolaris.336.e
		trigger = {
			original_tag = STG
		}
	}
}
country_event = {
	id = paxsolaris.337
	immediate = {log = "[GetDateText]: [Root.GetName]: event paxsolaris.337"}
	title = paxsolaris.337.t
	desc = paxsolaris.337.d
	picture = GFX_event_solarempire
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = paxsolaris.337.a
	}
}
country_event = {
	id = paxsolaris.338
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.338" 
		hidden_effect = {
			if = {
				limit = { has_country_flag = has_daybreaker_luna_fight }
				SOL_daybreaker_ascension = yes
				if = {
					limit = { has_country_flag = left_side_ai_controlled } 
					EQS = {
						add_political_power = var:fight_replay_pp_cost
					}
				}
				if = {
					limit = { has_country_flag = right_side_ai_controlled } 
					NLR = {
						add_political_power = var:fight_replay_pp_cost
					}
				}
				end_sister_fight = yes
				play_song = "Radiarc_Uncertainty"
			}
		}
	}
	title = paxsolaris.338.t
	desc = { 
		text = paxsolaris.338.d_nmm
		trigger = {
			EQS = { 
				has_country_flag = paxsolaris_338_nmm
			}
		}
	}
	desc = { 
		text = paxsolaris.338.d_luna
		trigger = {
			EQS = { 
				has_country_flag = paxsolaris_338_luna
			}
		}
	}
	is_triggered_only = yes
	picture = GFX_event_daybreaker
	option = {
		name = paxsolaris.338.a
		trigger = {
			has_country_flag = paxsolaris_338_luna 
		}
		country_event = paxsolaris.339 #SPARE
	}
	option = {
		name = paxsolaris.338.b
		country_event = paxsolaris.340 #KILL
	}
}
country_event = {
	id = paxsolaris.339
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.339" }
	title = paxsolaris.339.t
	desc = paxsolaris.339.d
	picture = GFX_event_daybreaker_luna
	is_triggered_only = yes
	option = { 
		name = paxsolaris.339.a
	}
}
country_event = {
	id = paxsolaris.340
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event paxsolaris.340" 
		hidden_effect = {
			set_country_flag = luna_dead
			if = {
				limit = { has_character = EQS_princess_luna }
				retire_character = EQS_princess_luna
			}
			event_target:SOL_NLR_last_state = { set_state_flag = skip_nuke_alert }
			launch_nuke = {
				state = event_target:SOL_NLR_last_state
				use_nuke = no 
			}
		}
	}
	title = paxsolaris.340.t
	desc = { 
		text = paxsolaris.340.d_nmm
		trigger = {
			EQS = { 
				has_country_flag = paxsolaris_338_nmm
			}
		}
	}
	desc = { 
		text = paxsolaris.340.d_luna
		trigger = {
			EQS = { 
				has_country_flag = paxsolaris_338_luna
			}
		}
	}
	picture = GFX_event_solar_flare
	is_triggered_only = yes
	option = { 
		name = paxsolaris.340.a
	}
}
country_event = {
	id = paxsolaris.341
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.341" }
	title = paxsolaris.341.t
	desc = paxsolaris.341.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = { #Crush Enemies
		name = paxsolaris.341.a
	}
	option = { #Support Luna
		name = paxsolaris.341.b
		trigger = {
			NLH = { exists = yes }
		}
		NLH = { change_tag_from = ROOT}
	}
	option = { #Support Republic
		name = paxsolaris.341.c
		trigger = {
			EQR = { exists = yes }
		}
		EQR = { change_tag_from = ROOT}
	}
}
country_event = {
	id = paxsolaris.342
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.342" }
	title = paxsolaris.342.t
	desc = paxsolaris.342.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = { 
		name = paxsolaris.342.a
		hidden_effect = { country_event = paxsolaris.343 }
	}
}
country_event = {
	id = paxsolaris.343
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.343" }
	title = paxsolaris.343.t
	desc = paxsolaris.343.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = { 
		name = paxsolaris.343.a
		hidden_effect = { country_event = { id = paxsolaris.344 days = 3 } }
	}
}
country_event = {
	id = paxsolaris.344
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.344" }
	title = paxsolaris.344.t
	desc = paxsolaris.344.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = { 
		name = paxsolaris.344.a
		hidden_effect = { country_event = paxsolaris.345 }
	}
}
country_event = {
	id = paxsolaris.345
	immediate = { log = "[GetDateText]: [Root.GetName]: event paxsolaris.345" }
	title = paxsolaris.345.t
	desc = paxsolaris.345.d
	picture = GFX_event_solarempire
	is_triggered_only = yes
	option = { 
		name = paxsolaris.345.a
	}
}
country_event = {
	id = paxsolaris.346
	is_triggered_only = yes
	hidden = yes
	option = {
		meta_effect = {
			text = {	
				delete_unit_template_and_units = { division_template = "Wraith Group [WRAITH_NUM]" }
			}
			WRAITH_NUM = "[?sol_flame_wraiths_deployed^0|.0]"
		}
		remove_from_array = { sol_flame_wraiths_deployed = sol_flame_wraiths_deployed^0 }
	}
}